{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/regexparam/dist/regexparam.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../src/utils.js","../../node_modules/localstoragedb/localstoragedb.js","../../src/lib.js","../../node_modules/js-cookie/src/js.cookie.js","../../src/Header.svelte","../../src/Modal.svelte","../../src/SubApp.svelte","../../node_modules/js-sha256/src/sha256.js","../../src/Auth.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.35.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","<script context=\"module\">\nimport {readable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\nimport {wrap as _wrap} from './wrap'\n\n/**\n * Wraps a component to add route pre-conditions.\n * @deprecated Use `wrap` from `svelte-spa-router/wrap` instead. This function will be removed in a later version.\n * \n * @param {SvelteComponent} component - Svelte component for the route\n * @param {object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...function(RouteDetail): boolean} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {WrappedComponent} Wrapped component\n */\nexport function wrap(component, userData, ...conditions) {\n    // Use the new wrap method and show a deprecation warning\n    // eslint-disable-next-line no-console\n    console.warn('Method `wrap` from `svelte-spa-router` is deprecated and will be removed in a future version. Please use `svelte-spa-router/wrap` instead. See http://bit.ly/svelte-spa-router-upgrading')\n    return _wrap({\n        component,\n        userData,\n        conditions\n    })\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    // Note: this will include scroll state in history even when restoreScrollState is false\n    history.replaceState({scrollX: window.scrollX, scrollY: window.scrollY}, undefined, undefined)      \n    window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function pop() {\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    window.history.back()\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    const dest = (location.charAt(0) == '#' ? '' : '#') + location\n    try {\n        window.history.replaceState(undefined, undefined, dest)\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n    }\n\n    // The method above doesn't trigger the hashchange event, so let's do that manually\n    window.dispatchEvent(new Event('hashchange'))\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string} hrefVar - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n */\nexport function link(node, hrefVar) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, hrefVar || node.getAttribute('href'))\n\n    return {\n        update(updated) {\n            updateLink(node, updated)\n        }\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, href) {\n    // Destination must start with '/'\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute: ' + href)\n    }\n\n    // Add # to the href attribute\n    node.setAttribute('href', '#' + href)\n    node.addEventListener('click', scrollstateHistoryHandler)\n}\n\n/**\n * The handler attached to an anchor tag responsible for updating the\n * current history state with the current scroll state\n *\n * @param {HTMLElementEventMap} event - an onclick event attached to an anchor tag\n */\nfunction scrollstateHistoryHandler(event) {\n    // Prevent default anchor onclick behaviour\n    event.preventDefault()\n    const href = event.currentTarget.getAttribute('href')\n    // Setting the url (3rd arg) to href will break clicking for reasons, so don't try to do that\n    history.replaceState({scrollX: window.scrollX, scrollY: window.scrollY}, undefined, undefined)\n    // This will force an update as desired, but this time our scroll state will be attached\n    window.location.hash = href\n}\n</script>\n\n{#if componentParams}\n    <svelte:component\n    this=\"{component}\"\n    params=\"{componentParams}\"\n    on:routeEvent\n    {...props}\n    />\n{:else}\n    <svelte:component\n    this=\"{component}\"\n    on:routeEvent\n    {...props}\n    />\n{/if}\n\n<script>\nimport {createEventDispatcher, afterUpdate} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * If set to true, the router will restore scroll positions on back navigation\n * and scroll to top on forward navigation.\n */\nexport let restoreScrollState = false\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent|WrappedComponent} component - Svelte component for the route, optionally wrapped\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument - strings must start with / or *')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.component\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n            this.props = component.props || {}\n        }\n        else {\n            // Convert the component to a function that returns a Promise, to normalize it\n            this.component = () => Promise.resolve(component)\n            this.conditions = []\n            this.props = {}\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, check if it matches the start of the path.\n        // If not, bail early, else remove it before we run the matching.\n        if (prefix) {\n            if (typeof prefix == 'string') {\n                if (path.startsWith(prefix)) {\n                    path = path.substr(prefix.length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n            else if (prefix instanceof RegExp) {\n                const match = path.match(prefix)\n                if (match && match[0]) {\n                    path = path.substr(match[0].length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            // In the match parameters, URL-decode all values\n            try {\n                out[this._keys[i]] = decodeURIComponent(matches[i + 1] || '') || null\n            }\n            catch (e) {\n                out[this._keys[i]] = null\n            }\n            i++\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoading`, `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {string|RegExp} route - Route matched as defined in the route definition (could be a string or a reguar expression object)\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {object} [userData] - Custom data passed by the user\n     * @property {SvelteComponent} [component] - Svelte component (only in `routeLoaded` events)\n     * @property {string} [name] - Name of the Svelte component (only in `routeLoaded` events)\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    async checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!(await this.conditions[i](detail))) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\nlet props = {}\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nasync function dispatchNextTick(name, detail) {\n    // Execute this code when the current call stack is complete\n    await tick()\n    dispatch(name, detail)\n}\n\n// If this is set, then that means we have popped into this var the state of our last scroll position\nlet previousScrollState = null\n\n// Update history.scrollRestoration depending on restoreScrollState\n$: history.scrollRestoration = restoreScrollState ? 'manual' : 'auto'\n\nif (restoreScrollState) {\n    window.addEventListener('popstate', (event) => {\n        // If this event was from our history.replaceState, event.state will contain\n        // our scroll history. Otherwise, event.state will be null (like on forward\n        // navigation)\n        if (event.state && event.state.scrollY) {\n            previousScrollState = event.state\n        }\n        else {\n            previousScrollState = null\n        }\n    })\n\n    afterUpdate(() => {\n        // If this exists, then this is a back navigation: restore the scroll position\n        if (previousScrollState) {\n            window.scrollTo(previousScrollState.scrollX, previousScrollState.scrollY)\n        }\n        else {\n            // Otherwise this is a forward navigation: scroll to top\n            window.scrollTo(0, 0)\n        }\n    })\n}\n\n// Always have the latest value of loc\nlet lastLoc = null\n\n// Current object of the component loaded\nlet componentObj = null\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n// Do not use the $: syntax because it gets triggered by too many things\nloc.subscribe(async (newLoc) => {\n    lastLoc = newLoc\n\n    // Find a route matching the location\n    let i = 0\n    while (i < routesList.length) {\n        const match = routesList[i].match(newLoc.location)\n        if (!match) {\n            i++\n            continue\n        }\n\n        const detail = {\n            route: routesList[i].path,\n            location: newLoc.location,\n            querystring: newLoc.querystring,\n            userData: routesList[i].userData\n        }\n\n        // Check if the route can be loaded - if all conditions succeed\n        if (!(await routesList[i].checkConditions(detail))) {\n            // Don't display anything\n            component = null\n            componentObj = null\n            // Trigger an event to notify the user, then exit\n            dispatchNextTick('conditionsFailed', detail)\n            return\n        }\n        \n        // Trigger an event to alert that we're loading the route\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoading', Object.assign({}, detail))\n\n        // If there's a component to show while we're loading the route, display it\n        const obj = routesList[i].component\n        // Do not replace the component if we're loading the same one as before, to avoid the route being unmounted and re-mounted\n        if (componentObj != obj) {\n            if (obj.loading) {\n                component = obj.loading\n                componentObj = obj\n                componentParams = obj.loadingParams\n                props = {}\n\n                // Trigger the routeLoaded event for the loading component\n                // Create a copy of detail so we don't modify the object for the dynamic route (and the dynamic route doesn't modify our object too)\n                dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n                    component: component,\n                    name: component.name\n                }))\n            }\n            else {\n                component = null\n                componentObj = null\n            }\n\n            // Invoke the Promise\n            const loaded = await obj()\n\n            // Now that we're here, after the promise resolved, check if we still want this component, as the user might have navigated to another page in the meanwhile\n            if (newLoc != lastLoc) {\n                // Don't update the component, just exit\n                return\n            }\n\n            // If there is a \"default\" property, which is used by async routes, then pick that\n            component = (loaded && loaded.default) || loaded\n            componentObj = obj\n        }\n\n        // Set componentParams only if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n        // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n        if (match && typeof match == 'object' && Object.keys(match).length) {\n            componentParams = match\n        }\n        else {\n            componentParams = null\n        }\n\n        // Set static props, if any\n        props = routesList[i].props\n\n        // Dispatch the routeLoaded event then exit\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n            component: component,\n            name: component.name\n        }))\n        return\n    }\n\n    // If we're still here, there was no match, so show the empty component\n    component = null\n    componentObj = null\n})\n</script>\n","export function fromNow(then) {\r\n\tconst elapsed = ((new Date().getTime()) - then) / 1000;\r\n\r\n\tconst SECONDS_IN_A_MINUTE = 60;\r\n\tconst SECONDS_IN_AN_HOUR = 60 * SECONDS_IN_A_MINUTE;\r\n\tconst SECONDS_IN_A_DAY = 24 * SECONDS_IN_AN_HOUR;\r\n\tconst SECONDS_IN_A_WEEK = 7 * SECONDS_IN_A_DAY;\r\n\tconst SECONDS_IN_A_MONTH = 4 * SECONDS_IN_A_WEEK;\r\n\tconst SECONDS_IN_A_YEAR = 12 * SECONDS_IN_A_MONTH;\r\n\r\n\tif (elapsed < SECONDS_IN_A_MINUTE) {\r\n\t\treturn 'just now';\r\n\t} else if (elapsed >= SECONDS_IN_A_MINUTE && elapsed < SECONDS_IN_AN_HOUR) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_A_MINUTE)) {\r\n\t\t\treturn '1 minute ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_A_MINUTE) + ' minutes ago';\r\n\t\t}\r\n\t} else if (elapsed >= SECONDS_IN_AN_HOUR && elapsed < SECONDS_IN_A_DAY) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_AN_HOUR)) {\r\n\t\t\treturn '1 hour ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_AN_HOUR) + ' hours ago';\r\n\t\t}\t\t\t\r\n\t} else if (elapsed >= SECONDS_IN_A_DAY && elapsed < SECONDS_IN_A_WEEK) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_A_DAY)) {\r\n\t\t\treturn '1 day ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_A_DAY) + ' days ago';\r\n\t\t}\t\t\t\r\n\t} else if (elapsed >= SECONDS_IN_A_WEEK && elapsed < SECONDS_IN_A_MONTH) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_A_WEEK)) {\r\n\t\t\treturn '1 week ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_A_WEEK) + ' weeks ago';\r\n\t\t}\t\t\t\r\n\t} else if (elapsed >= SECONDS_IN_A_MONTH && elapsed < SECONDS_IN_A_YEAR) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_A_MONTH)) {\r\n\t\t\treturn '1 month ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_A_MONTH) + ' month ago';\r\n\t\t}\t\t\t\r\n\t} else if (elapsed >= SECONDS_IN_A_YEAR) {\r\n\t\tif (elapsed < (2 * SECONDS_IN_A_YEAR)) {\r\n\t\t\treturn '1 year ago';\r\n\t\t} else {\r\n\t\t\treturn Math.floor(elapsed / SECONDS_IN_A_YEAR) + ' years ago';\r\n\t\t}\t\t\t\r\n\t}\r\n}","/*\n\tKailash Nadh (http://nadh.in)\n\n\tlocalStorageDB v 2.3.2\n\tA simple database layer for localStorage\n\n    v 2.3.2 Mar 2018 Contribution: Ken Kohler\n\tv 2.3.1 Mar 2015\n\tv 2.3 Feb 2014 Contribution: Christian Kellner (http://orange-coding.net)\n\tv 2.2 Jan 2014 Contribution: Andy Hawkins (http://a904guy.com) \n\tv 2.1 Nov 2013\n\tv 2.0 June 2013\n\tv 1.9 Nov 2012\n\n\tLicense\t:\tMIT License\n*/\n\n!(function (_global, undefined) {\n    function localStorageDB(db_name, engine) {\n        var db_prefix = 'db_',\n\t\t\tdb_id = db_prefix + db_name,\n\t\t\tdb_new = false,\t// this flag determines whether a new database was created during an object initialisation\n\t\t\tdb = null;\n\n        var storage;\n        try {\n            storage = (engine === sessionStorage ? sessionStorage: localStorage);\n        } catch(e) { // ie8 hack\n            storage = engine;\n        }\n\n        // if the database doesn't exist, create it\n        db = storage[ db_id ];\n        if( !( db && (db = JSON.parse(db)) && db.tables && db.data ) ) {\n            if(!validateName(db_name)) {\n                error(\"The name '\" + db_name + \"' contains invalid characters\");\n            } else {\n                db = {tables: {}, data: {}};\n                commit();\n                db_new = true;\n            }\n        }\n\n\n        // ______________________ private methods\n\n        // _________ database functions\n        // drop the database\n        function drop() {\n\t\t\tif(storage.hasOwnProperty(db_id)) {\n                delete storage[db_id];\n            }\n            db = null;\n        }\n\n        function getItem(key) {\n            try {\n                return storage.storage[key];\n            } catch (e) {\n                return null;\n            }\n        }\n\n        function replace(data) {\n            setItem(db_id, data);\n        }\n\n        function setItem(key, value) {\n            try {\n                storage.setItem(key, value);\n                return true;\n            } catch (e) {\n                return false;\n            }\n        }\n\n        // number of tables in the database\n        function tableCount() {\n            var count = 0;\n\t\t\tfor(var table in db.tables) {\n\t\t\t\tif( db.tables.hasOwnProperty(table) ) {\n                    count++;\n                }\n            }\n            return count;\n        }\n\n        // _________ table functions\n\n        // returns all fields in a table.\n        function tableFields(table_name) {\n            return db.tables[table_name].fields;\n        }\n\n        // check whether a table exists\n        function tableExists(table_name) {\n            return db.tables[table_name] ? true : false;\n        }\n\n        // check whether a table exists, and if not, throw an error\n        function tableExistsWarn(table_name) {\n\t\t\tif(!tableExists(table_name)) {\n                error(\"The table '\" + table_name + \"' does not exist\");\n            }\n        }\n\n        // check whether a table column exists\n        function columnExists(table_name, field_name) {\n            var exists = false;\n            var table_fields = db.tables[table_name].fields;\n\t\t\tfor(var field in table_fields){\n\t\t\t\tif(table_fields[field] === field_name)\n\t\t\t\t{\n                    exists = true;\n                    break;\n                }\n            }\n            return exists;\n        }\n\n        // create a table\n        function createTable(table_name, fields) {\n            db.tables[table_name] = {fields: fields, auto_increment: 1};\n            db.data[table_name] = {};\n        }\n\n        // drop a table\n        function dropTable(table_name) {\n            delete db.tables[table_name];\n            delete db.data[table_name];\n        }\n\n        // empty a table\n        function truncate(table_name) {\n            db.tables[table_name].auto_increment = 1;\n            db.data[table_name] = {};\n        }\n\n        //alter a table\n        function alterTable(table_name, new_fields, default_values){\n            db.tables[table_name].fields = db.tables[table_name].fields.concat(new_fields);\n\n            // insert default values in existing table\n            if(typeof default_values !== \"undefined\") {\n                // loop through all the records in the table\n                for(var ID in db.data[table_name]) {\n                    if( !db.data[table_name].hasOwnProperty(ID) ) {\n                        continue;\n                    }\n                    for(var field in new_fields) {\n                        if(typeof default_values === \"object\") {\n                            db.data[table_name][ID][new_fields[field]] = default_values[new_fields[field]];\n                        } else {\n                            db.data[table_name][ID][new_fields[field]] = default_values;\n                        }\n                    }\n                }\n            }\n        }\n\n        // number of rows in a table\n        function rowCount(table_name) {\n            var count = 0;\n            for(var ID in db.data[table_name]) {\n                if( db.data[table_name].hasOwnProperty(ID) ) {\n                    count++;\n                }\n            }\n            return count;\n        }\n\n        // insert a new row\n        function insert(table_name, data) {\n            data.ID = db.tables[table_name].auto_increment;\n            db.data[table_name][ db.tables[table_name].auto_increment ] = data;\n            db.tables[table_name].auto_increment++;\n            return data.ID;\n        }\n\n        // select rows, given a list of IDs of rows in a table\n        function select(table_name, ids, start, limit, sort, distinct) {\n            var ID = null, results = [], row = null;\n\n            var i;\n            for(i=0; i<ids.length; i++) {\n                ID = ids[i];\n                row = db.data[table_name][ID];\n                results.push( clone(row) );\n            }\n\n            // there are sorting params\n            if(sort && sort instanceof Array) {\n                for(i=0; i<sort.length; i++) {\n                    results.sort(sort_results(sort[i][0], sort[i].length > 1 ? sort[i][1] : null));\n                }\n            }\n\n            // distinct params\n            if(distinct && distinct instanceof Array) {\n                for(var j=0; j<distinct.length; j++) {\n                    var seen = {}, d = distinct[j];\n\n                    for(i=0; i<results.length; i++) {\n                        if(results[i] === undefined) {\n                            continue;\n                        }\n\n                        if(results[i].hasOwnProperty(d) && seen.hasOwnProperty(results[i][d])) {\n                            delete(results[i]);\n                        } else {\n                            seen[results[i][d]] = 1;\n                        }\n                    }\n                }\n\n                // can't use .filter(ie8)\n                var new_results = [];\n                for(i=0; i<results.length; i++) {\n                    if(results[i] !== undefined) {\n                        new_results.push(results[i]);\n                    }\n                }\n\n                results = new_results;\n            }\n\n            // limit and offset\n            start = start && typeof start === \"number\" ? start : null;\n            limit = limit && typeof limit === \"number\" ? limit : null;\n\n            if(start && limit) {\n                results = results.slice(start, start+limit);\n            } else if(start) {\n                results = results.slice(start);\n            } else if(limit) {\n                results = results.slice(start, limit);\n            }\n\n            return results;\n        }\n\n        // sort a result set\n        function sort_results(field, order) {\n            return function(x, y) {\n                // case insensitive comparison for string values\n                var v1 = typeof(x[field]) === \"string\" ? x[field].toLowerCase() : x[field],\n\t\t\t\t\tv2 = typeof(y[field]) === \"string\" ? y[field].toLowerCase() : y[field];\n\n                if(order === \"DESC\") {\n                    return v1 === v2 ? 0 : (v1 < v2 ? 1 : -1);\n                } else {\n                    return v1 === v2 ? 0 : (v1 > v2 ? 1 : -1);\n                }\n            };\n        }\n\n        // select rows in a table by field-value pairs, returns the IDs of matches\n        function queryByValues(table_name, data) {\n            var result_ids = [],\n\t\t\t\texists = false,\n\t\t\t\trow = null;\n\n            // loop through all the records in the table, looking for matches\n            for(var ID in db.data[table_name]) {\n                if( !db.data[table_name].hasOwnProperty(ID) ) {\n                    continue;\n                }\n\n                row = db.data[table_name][ID];\n                exists = true;\n\n                for(var field in data) {\n                    if( !data.hasOwnProperty(field) ) {\n                        continue;\n                    }\n\n                    if(typeof data[field] === 'string') {\t// if the field is a string, do a case insensitive comparison\n                        if(row[field] === null || row[field].toString().toLowerCase() !== data[field].toString().toLowerCase()) {\n                            exists = false;\n                            break;\n                        }\n                    } else {\n                        if(row[field] !== data[field]) {\n                            exists = false;\n                            break;\n                        }\n                    }\n                }\n                if(exists) {\n                    result_ids.push(ID);\n                }\n            }\n\n            return result_ids;\n        }\n\n        // select rows in a table by a function, returns the IDs of matches\n        function queryByFunction(table_name, query_function) {\n            var result_ids = [],\n\t\t\t\texists = false,\n\t\t\t\trow = null;\n\n            // loop through all the records in the table, looking for matches\n            for(var ID in db.data[table_name]) {\n                if( !db.data[table_name].hasOwnProperty(ID) ) {\n                    continue;\n                }\n\n                row = db.data[table_name][ID];\n\n                if( query_function( clone(row) ) === true ) {\t// it's a match if the supplied conditional function is satisfied\n                    result_ids.push(ID);\n                }\n            }\n\n            return result_ids;\n        }\n\n        // return all the IDs in a table\n        function getIDs(table_name) {\n            var result_ids = [];\n\n            for(var ID in db.data[table_name]) {\n                if( db.data[table_name].hasOwnProperty(ID) ) {\n                    result_ids.push(ID);\n                }\n            }\n            return result_ids;\n        }\n\n        // delete rows, given a list of their IDs in a table\n        function deleteRows(table_name, ids) {\n            for(var i=0; i<ids.length; i++) {\n                if( db.data[table_name].hasOwnProperty(ids[i]) ) {\n                    delete db.data[table_name][ ids[i] ];\n                }\n            }\n            return ids.length;\n        }\n\n        // update rows\n        function update(table_name, ids, update_function) {\n            var ID = '', num = 0;\n\n            for(var i=0; i<ids.length; i++) {\n                ID = ids[i];\n\n                var updated_data = update_function( clone(db.data[table_name][ID]) );\n\n                if(updated_data) {\n                    delete updated_data['ID']; // no updates possible to ID\n\n                    var new_data = db.data[table_name][ID];\n                    // merge updated data with existing data\n                    for(var field in updated_data) {\n                        if( updated_data.hasOwnProperty(field) ) {\n                            new_data[field] = updated_data[field];\n                        }\n                    }\n\n                    db.data[table_name][ID] = validFields(table_name, new_data);\n                    num++;\n                }\n            }\n            return num;\n        }\n\n        // commit the database to localStorage\n        function commit() {\n            try {\n                storage.setItem(db_id, JSON.stringify(db));\n                return true;\n            } catch(e) {\n                return false;\n            }\n        }\n\n        // serialize the database\n        function serialize() {\n            return JSON.stringify(db);\n        }\n\n        // throw an error\n        function error(msg) {\n            throw new Error(msg);\n        }\n\n        // clone an object\n        function clone(obj) {\n            var new_obj = {};\n            for(var key in obj) {\n                if( obj.hasOwnProperty(key) ) {\n                    new_obj[key] = obj[key];\n                }\n            }\n            return new_obj;\n        }\n\n        // validate db, table, field names (alpha-numeric only)\n        function validateName(name) {\n            return name.toString().match(/[^a-z_0-9]/ig) ? false : true;\n        }\n\n        // given a data list, only retain valid fields in a table\n        function validFields(table_name, data) {\n            var field = '', new_data = {};\n\n            for(field in data) {\n                var index = db.tables[table_name].fields.indexOf(field);\n                if (index === -1) {\n                    error(\"Invalid query parameter: \" + field);\n                }\n                new_data[field] = data[field];\n            }\n            return new_data;\n        }\n\n        // given a data list, populate with valid field names of a table\n        function validateData(table_name, data) {\n            var field = '', new_data = {};\n            for(var i=0; i<db.tables[table_name].fields.length; i++) {\n                field = db.tables[table_name].fields[i];\n                new_data[field] = (data[field] === null || data[field] === undefined) ? null : data[field];\n            }\n            return new_data;\n        }\n\n        // ______________________ public methods\n\n        return {\n            // commit the database to localStorage\n            commit: function() {\n                return commit();\n            },\n\n            // is this instance a newly created database?\n            isNew: function() {\n                return db_new;\n            },\n\n            // delete the database\n            drop: function() {\n                drop();\n            },\n\n            getItem: function(key) {\n                return getItem(key);\n            },\n\n            replace: function(data) {\n                replace(data);\n            },\n\n            // serialize the database\n            serialize: function() {\n                return serialize();\n            },\n\n            // check whether a table exists\n            tableExists: function(table_name) {\n                return tableExists(table_name);\n            },\n\n            // list of keys in a table\n            tableFields: function(table_name) {\n                return tableFields(table_name);\n            },\n\n            // number of tables in the database\n            tableCount: function() {\n                return tableCount();\n            },\n\n            columnExists: function(table_name, field_name){\n                return columnExists(table_name, field_name);\n            },\n\n            // create a table\n            createTable: function(table_name, fields) {\n                var result = false;\n                if(!validateName(table_name)) {\n                    error(\"The database name '\" + table_name + \"' contains invalid characters.\");\n                } else if(this.tableExists(table_name)) {\n                    error(\"The table name '\" + table_name + \"' already exists.\");\n                } else {\n                    // make sure field names are valid\n                    var is_valid = true;\n                    var i;\n                    for(i =0; i<fields.length; i++) {\n                        if(!validateName(fields[i])) {\n                            is_valid = false;\n                            break;\n                        }\n                    }\n\n                    if(is_valid) {\n                        // cannot use indexOf due to <IE9 incompatibility\n                        // de-duplicate the field list\n                        var fields_literal = {};\n                        for(i=0; i<fields.length; i++) {\n                            fields_literal[ fields[i] ] = true;\n                        }\n                        delete fields_literal['ID']; // ID is a reserved field name\n\n                        fields = ['ID'];\n                        for(var field in fields_literal) {\n                            if( fields_literal.hasOwnProperty(field) ) {\n                                fields.push(field);\n                            }\n                        }\n\n                        createTable(table_name, fields);\n                        result = true;\n                    } else {\n                        error(\"One or more field names in the table definition contains invalid characters\");\n                    }\n                }\n\n                return result;\n            },\n\n            // Create a table using array of Objects @ [{k:v,k:v},{k:v,k:v},etc]\n            createTableWithData: function(table_name, data) {\n                if(typeof data !== 'object' || !data.length || data.length < 1) {\n                    error(\"Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]\");\n                }\n\n                var fields = Object.keys(data[0]);\n\n                // create the table\n                if( this.createTable(table_name, fields) ) {\n                    this.commit();\n\n                    // populate\n                    for (var i=0; i<data.length; i++) {\n                        if( !insert(table_name, data[i]) ) {\n                            error(\"Failed to insert record: [\" + JSON.stringify(data[i]) + \"]\");\n                        }\n                    }\n                    this.commit();\n                }\n                return true;\n            },\n\n            // drop a table\n            dropTable: function(table_name) {\n                tableExistsWarn(table_name);\n                dropTable(table_name);\n            },\n\n            // empty a table\n            truncate: function(table_name) {\n                tableExistsWarn(table_name);\n                truncate(table_name);\n            },\n\n            // alter a table\n            alterTable: function(table_name, new_fields, default_values) {\n                var result = false;\n                if(!validateName(table_name)) {\n                    error(\"The database name '\" + table_name + \"' contains invalid characters\");\n                } else {\n                    if(typeof new_fields === \"object\") {\n                        // make sure field names are valid\n                        var is_valid = true;\n                        var i;\n                        for (i = 0; i < new_fields.length; i++) {\n                            if(!validateName(new_fields[i])) {\n                                is_valid = false;\n                                break;\n                            }\n                        }\n\n                        if(is_valid) {\n                            // cannot use indexOf due to <IE9 incompatibility\n                            // de-duplicate the field list\n                            var fields_literal = {};\n                            for(i=0; i<new_fields.length; i++) {\n                                fields_literal[ new_fields[i] ] = true;\n                            }\n                            delete fields_literal['ID']; // ID is a reserved field name\n\n                            new_fields = [];\n                            for(var field in fields_literal) {\n                                if( fields_literal.hasOwnProperty(field) ) {\n                                    new_fields.push(field);\n                                }\n                            }\n\n                            alterTable(table_name, new_fields, default_values);\n                            result = true;\n                        } else {\n                            error(\"One or more field names in the table definition contains invalid characters\");\n                        }\n                    } else if(typeof new_fields === \"string\") {\n                        if(validateName(new_fields)) {\n                            var new_fields_array = [];\n                            new_fields_array.push(new_fields);\n                            alterTable(table_name, new_fields_array, default_values);\n                            result = true;\n                        } else {\n                            error(\"One or more field names in the table definition contains invalid characters\");\n                        }\n                    }\n                }\n\n                return result;\n            },\n\n            // number of rows in a table\n            rowCount: function(table_name) {\n                tableExistsWarn(table_name);\n                return rowCount(table_name);\n            },\n\n            // insert a row\n            insert: function(table_name, data) {\n                tableExistsWarn(table_name);\n                return insert(table_name, validateData(table_name, data) );\n            },\n\n            // insert or update based on a given condition\n            insertOrUpdate: function(table_name, query, data) {\n                tableExistsWarn(table_name);\n\n                var result_ids = [];\n                if(!query) {\n                    result_ids = getIDs(table_name);\t\t\t\t// there is no query. applies to all records\n                } else if(typeof query === 'object') {\t\t\t\t// the query has key-value pairs provided\n                    result_ids = queryByValues(table_name, validFields(table_name, query));\n                } else if(typeof query === 'function') {\t\t\t\t// the query has a conditional map function provided\n                    result_ids = queryByFunction(table_name, query);\n                }\n\n                // no existing records matched, so insert a new row\n                if(result_ids.length === 0) {\n                    return insert(table_name, validateData(table_name, data) );\n                } else {\n                    var ids = [];\n                    update(table_name, result_ids, function(o) {\n                        ids.push(o.ID);\n                        return data;\n                    });\n\n                    return ids;\n                }\n            },\n\n            // update rows\n            update: function(table_name, query, update_function) {\n                tableExistsWarn(table_name);\n\n                var result_ids = [];\n                if(!query) {\n                    result_ids = getIDs(table_name);\t\t\t\t// there is no query. applies to all records\n                } else if(typeof query === 'object') {\t\t\t\t// the query has key-value pairs provided\n                    result_ids = queryByValues(table_name, validFields(table_name, query));\n                } else if(typeof query === 'function') {\t\t\t\t// the query has a conditional map function provided\n                    result_ids = queryByFunction(table_name, query);\n                }\n                return update(table_name, result_ids, update_function);\n            },\n\n            // select rows\n            query: function(table_name, query, limit, start, sort, distinct) {\n                tableExistsWarn(table_name);\n\n                var result_ids = [];\n                if(!query) {\n                    result_ids = getIDs(table_name, limit, start); // no conditions given, return all records\n                } else if(typeof query === 'object') {\t\t\t// the query has key-value pairs provided\n                    result_ids = queryByValues(table_name, validFields(table_name, query), limit, start);\n                } else if(typeof query === 'function') {\t\t// the query has a conditional map function provided\n                    result_ids = queryByFunction(table_name, query, limit, start);\n                }\n\n                return select(table_name, result_ids, start, limit, sort, distinct);\n            },\n\n            // alias for query() that takes a dict of params instead of positional arrguments\n            queryAll: function(table_name, params) {\n                if(!params) {\n                    return this.query(table_name)\n                } else {\n                    return this.query(table_name,\n\t\t\t\t\t\tparams.hasOwnProperty('query') ? params.query : null,\n\t\t\t\t\t\tparams.hasOwnProperty('limit') ? params.limit : null,\n\t\t\t\t\t\tparams.hasOwnProperty('start') ? params.start : null,\n\t\t\t\t\t\tparams.hasOwnProperty('sort') ? params.sort : null,\n\t\t\t\t\t\tparams.hasOwnProperty('distinct') ? params.distinct : null\n\t\t\t\t\t);\n                }\n            },\n\n            // delete rows\n            deleteRows: function(table_name, query) {\n                tableExistsWarn(table_name);\n\n                var result_ids = [];\n                if(!query) {\n                    result_ids = getIDs(table_name);\n                } else if(typeof query === 'object') {\n                    result_ids = queryByValues(table_name, validFields(table_name, query));\n                } else if(typeof query === 'function') {\n                    result_ids = queryByFunction(table_name, query);\n                }\n                return deleteRows(table_name, result_ids);\n            }\n        }\n    }\n\n    // export to Node...\n    if ( typeof module !== 'undefined' && module.exports ) {\n        module.exports = localStorageDB;\n    }\n\n    // ...or as AMD module...\n    else if ( typeof define === 'function' && define.amd ) {\n        define( function () { return localStorageDB; });\n    }\n\n    // ...or as browser global\n    else {\n        _global['localStorageDB'] = localStorageDB;\n    }\n\n}(typeof window !== 'undefined' ? window : this));\n","import localStorageDB from 'localstoragedb';\r\n\r\nconst lib = new localStorageDB('bambino', localStorage);\r\n\r\nexport function queryAllUsers() {\r\n\tconst users = lib.queryAll('users');\r\n\treturn users;\r\n}\r\nexport function queryUsersWithEmail(email) {\r\n\treturn lib.queryAll('users', {query: {email: email}});\r\n}\r\nexport function queryUsersWithEmailAndPassword(email, password) {\r\n\treturn lib.queryAll('users', {query: {email: email, password: password}})\r\n}\r\nexport function insertUser(user) {\r\n\tlib.insert('users', user);\r\n\tlib.commit();\r\n}\r\nexport function updateUser(user_email, user, with_password) {\r\n\tlib.update('users', {email: user_email}, function (row) {\r\n\t\trow.name = user.name;\r\n\t\trow.discriminator = user.discriminator;\r\n\t\trow.email = user.email;\r\n\t\tif (with_password) {\r\n\t\t\trow.password = user.password;\r\n\t\t}\r\n\r\n\t\treturn row;\r\n\t});\r\n\tlib.commit();\r\n}\r\nexport function queryAllPosts() {\r\n\tconst posts = lib.queryAll('posts');\r\n\tposts.sort((a, b) => {\r\n\t\tif (a.posted_timestamp > b.posted_timestamp) {\r\n\t\t\treturn -1;\r\n\t\t} else if (a.posted_timestamp < b.posted_timestamp) {\r\n\t\t\treturn +1;\r\n\t\t}\r\n\t});\r\n\r\n\treturn posts;\t\r\n}\r\nexport function insertPost(post) {\r\n\tconst post_id = lib.insert('posts', post);\r\n\tlib.commit();\r\n\r\n\treturn(Object.assign(post, {ID: post_id}));\r\n}\r\nexport function updateImpelPost(post_id) {\r\n\tlet impels = 0;\r\n\tlet impelled = 0;\r\n\r\n\tlib.update('posts', {ID: post_id}, function (row) {\r\n\t\tif (row.impelled == true) {\r\n\t\t\timpels = Number(row.impels) - 1;\r\n\t\t\timpelled = false;\r\n\t\t\trow.impels = impels;\r\n\t\t\trow.impelled = impelled;\r\n\t\t} else {\r\n\t\t\timpels = Number(row.impels) + 1;\r\n\t\t\timpelled = true;\r\n\t\t\trow.impels = impels;\r\n\t\t\trow.impelled = impelled;\r\n\t\t}\t\r\n\r\n\t\treturn row;\t\r\n\t});\r\n\tlib.commit();\r\n\r\n\treturn {impels, impelled};\r\n}\r\nexport function updatePostNotes(post_id, note) {\r\n\tlib.update('posts', {ID: post_id}, function (row) {\r\n\t\trow.notes = [note, ...row.notes];\r\n\r\n\t\treturn row;\r\n\t});\r\n\tlib.commit();\r\n}\r\n\r\nif (!lib.tableExists('users')) {\r\n\tlib.createTable('users', ['name', 'discriminator', 'email', 'password']);\r\n}\r\nif (!lib.tableExists('posts')) {\r\n\tlib.createTable('posts', ['image_blob', 'title', 'description', 'impels', 'impelled', 'poster_name', 'poster_discriminator', 'posted_timestamp', 'notes']);\r\n\tinsertPost({image_blob: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAl4AAAC2CAYAAAAIqYNAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAC66SURBVHhe7Z2PcxbXud/739SeTgrDNOn13GSa5kfbQTNt7OY2uGlrameEqQOjsY3JYO74Ao7NjzaRnWDAF2OogQlBOHaEx9eKwRXGRiQYEbiWHFvyBYkLwcJckKNYxsJPz3d3z7vPOe/ZffeFV6v3lb6fmWf07tmz59funvPd55xd/TMhhBBCCCHTxrVr1ypG4UUIIYQQMo1QeBFCCCGElASFFyGEEEJISVB4EUIIIYSUBIXXHOPyxx/L2ZER+fDsORqNRqPRKoaxAWMEmV4ovOYQuKE+unxZpqZuJCGEEEJIDMYGjBEUX9MLhdccAk8zFF2EEEKywBiBsYJMHxRecwi4kgkhhJA8yhwrLr3eIwPr1kjfor+Sw3/5F9LzpdvltX/xz5veUE6UF+VG+VGPolB4zSEovAghhNRiuseKzz/5RD546qeRcAmJmlY11Af1Qv3yoPCaQ1B4EUIIqcV0jhXnX+yadYLLN9QP9czipoTX5+PXkl+klaDwIoQQUovpGiswJRcSKrPVUN8QhYTXx789Lmce/ZEc+XffqEq4f/kD8o8v/SqJSZoZCi9CCCG1mI6x4vcrHqzSD3PBUG+fXOE1Pjggv1v83ysJHPrX/0p+e89/k6HNP5P+Zf9Ljnz731b2QZRdev03yZGkGaHwIoQQUotGjxVzzdPlm+/5yhRe//irF+XQX3y5ciDEVgh4wyDIbDx4xjgV2ZxQeBFCCKlFI8cKrHWy+mAum17zFRReEF36gMEnf5zsCQPPmC++SPNB4UUIIaQWjRor8HbfbF9IX9TQDvZtRyu6ent7Y+H15/PnHU8XBFURDxY8YjqTLA/ZdIEyXvndb6P1ZvgLMXgr2PTy0sE+xLl06PWG5Tud3MzNdG18XE79/rS8fuiNyPAbYYQQQmYnjRJe+LSC1gVz3dAeoEp46TVdsFreLgsEmz4OhjCLv8+aFmi+eNOWBaY6/TJbg4BEmr5wxDq1UHykBfxy4AUCC9LCfi1OfbP5Nhv13kynTp2WZ7fvkJ9t3iov/urlyPAbYRBghBBCZh+NEl70drmG9gCO8IK3xo9oxUgR9GJ72JlVK5M9sZjBtt4P0wIFeWH77bv+U1W8EJjS1HFwLOqARf46DSz8154oTKVCUOrpUZgN12HWUDaIrrf/83eccMRHOAwvHOh9zSa+6rmZILogso68+ZZMTn6WhEr0G2HYhzjNzMjIiLzwwgty9erVJCSfN998U37+85/LL37xC/n000+T0NYD9d2xY4e8++67Scjspt7zPJ2gzX/9618nW9PHXDvHpFwaIbzwJXc9HjbSzh/YL5ePvilv/ce24P5mNrSLI7xCokN7rWrhe5Lg+fHxRVVInEDk6DgwH190nf2/O5M9MRBCWgiiLH5dkLdOI0t0wVAmf+0b6qsJef1Qjmah6M2EqUR4tSCwssA+xCky7YjBAYLGGgROGdQzICMO4uKYVgMiEWJxrg7CrSK8sK/VRT2ZGzRCeN3qm4ynV66QT97/g3wxNRWlh78je3dH+66eOS2ffXxZ+pf/sOq4WzEIuhvXr8vwls3B/Y0wtIsjvEJTcPXgCxmY7zHz87gZ4QWPlt4Hz1UIX0hhSlITKi+8chBQeh/EIvDzDX0+Q++H+fWfSYreTNbbpT1dPthXxOuFwQZP5nZQxKBz/Hg5bVKv8MKg2AyDd71QeFF4EdJIGiG88D8M/fGwqPX91/9ixuFR+fxPf4rWTw+seUw+6n1Dzu7cEYzfKCtDeKFdHOEVWrdUD2UJL3+6T09pakLp6ClHv7y+gIMA88sPrxfyC4kueLd0ejDEbxaK3ky/ef1wtJ6rFoiDuHnkDUQAg+a2bdsiT5gWaPiL7ZCXDOm9+uqr0X47kPnxka8dkCH0bHioLLoMMJtXVjgIlcEHceyxKIMVdjD724K4WjjpY3W+fnuNjo469Ua6ly5dqvLe6fQQ3+YdaqO8/HSZfbDPpmWP8dsmLz3ka8uAOH75Dx06FKXn77d1sGnhr20TP50sdN71tI/OC38RD2X10enD7LlG+rY9YDrtvDojX32Orfj209H5hspFSIhGCK9bWd915kePRKLr4+N9wf2fDH0gk5f+KL+7955oe/SX+2QK/cwXX8jE2bORNwxxsO/jY2/L1MSE/FP/yUhUwXP20f97Qw59ZYGTJswXXvUcW9TQLo7wCkWqh5Dw8gXKrQqv0HReKA0QSkfH9cvrTx3WA0RXaJF/VtlmgukQXnnTkcAOTHpAsfiDh/YI4LcenJ577rlKPAwgenC0eej4H3zwQfQXg5UdcPx0NEgDeWelaQc2u+2XwQf11QOdju/nBbDfpq2P1fkivm4vi182Px7Sw37EA4hnt/PaKCu/LBAfddR5IV2btp+eLgd+6/ZEHMS120hDCw8dX8f128JPJwSOgcAJlRnHZ7WPnxfyQJlsXB9dX2Dj2+P99PLqDLNtaY+z9xj29ff3V+VHSFEaIbx6vnR71XhY1N5s+/cy/t5gJHQ+7jtWNbZq4fX+T/+P3Jj8VP704XDsGTt8SL64MeUILwiyfzr5jgw+sS4SZlN//rMM/nitkyYsJLyKHlvU0C6O8PIXx8PqwRcyMN9jdKvCq5aY0oQ8UFpcNUJ42WlJeAtDLwVklW0mKHozNXKqEdiBQT+JA1+cYMBAPPzV4PgDBw5UBiAco9PBABMa7BBfD7r+wKbx8/bLBnQ+fhk0SMMOihadvp8XQHpIP3Qs8oFlld8P12mE0tPtCctqo7z2ChHKS6fvtynCkP5HH30UzMe2if2t21uXTeeBbYRjv42nr50iIA1bzrz28fMC+lgfP77fHkAfn1dn3dYw1FGXA/hlJ6QoMy28YJhuvPz2W5H4ghjCVGPvN/5NtE8Lr8tvHXXE0Ikf/E+ZNH2K7/H6+9Wrou2KuNq2JdrWluXxKnJsUasSXr4ogtVDaHG6/12rMoUX8OM2QnhB0GHe2U55YooSaYWEXisKLyyY3/a3tRfXI0493/SyA4cdWDCo2GkQa/YJ38b1w4E/IOG33raEBh4ci4HLB3GQn40bSlMPcH4ZNH5aQIeF9ttyIQxeDd0mMNtmer+thx6QAeLYQTmUF7D51WqjUH5Z6HwtOn+0l64TDOd1aGgoKI70OQi1d6gO2PbzgNUqu3+cbe+89oHZeJZQmAX70BZWIOn6WZBf3jVm89ZtXStP1Md6yggpQiOEV6M+JYEF9NfMdfzFjRvy0RuHozAtvLAAH0ILggv7EIZ9Wnhh2hLTl9iGeAL4i21tIeFV9NiiVjXViDcD/UhWOEFUQERYsYFPNOD7Vtqj5YsqeNB8yhReoWlJfPLBguP0viLCC1Onei0cjkE+Fp0erBWFF7BeryNHA5+TMGHYV2t9Vwh0/nog9gcW4AsJbOuB2R+Q8Ds08OQNmj66XCCUph7g/DJokIYvQHRZ/LyALVdoXwjst3nUEl5+WXR76nJZQm0USscnFAe/rZBAe4XazC+/RZfDb++sOiA+4tYDjkH+SNNu2zR02hZbLv84ELpuLH78UFydN/5m1Vm3dagcPkXiEGJphPC6lcX1vuGzERMj5+TTP16U3/6P7zvCC+vAtFfq5AP3V63xaibhVbW4PiRU7BotXzBpe2/9E1Ecf3E+PGA+tyq86vEq1RJp9QovtEWt+Ho/rFWFF4D4glcLIuvFl34dGX4jDKILvwcG30tih8FiYwwOFgwA9ukb4aE1V/4A7sfzBySEw3OCtO22XeOVNWj6IA4GJhvXTxMDFvbbbb8MPtgPs+C3rbefFv5qr4x/bAidhp+e335IC/vtoIt4drtoG/l5hEAaqKMtuz3GthPyylpjhzjaK+OXC2nq/YgfqoMtQ145fZCWbm/8ttt57ePnZbd1WhrE0+cBade6xrLqjDB7jm2+tp2xjTVemlA9CMmiEcLrVj4ncfqRhyJPFgQO1m1h7IUgwmcksF8Lr3Mv7IrWdMErhrhYj4V1Wc0qvKo+J4EE/Y+c2jcGIWJQeQiJ0FowiC+9jek37Qmy3KrwAn4a2oul8b+7Bct7q7GW8KpV9tky1ajBVCIEGIQWDL/t9CJEVy3xZQcFO4WjBxKAQcbug9lBS4djwMCAg8EDII4dZCx2EEN8/MV2aLCxg6YP4iAPHVenCdPHhcqgsYOoPRYCVKev64e0dLn8Y219cKxuS52/TQ/H1XqrEXH04J/VRln5YR/i+CA+0sJCdXuMH0/X29+P9G24f50gnn2L1N/v18E/b7a+WeX22xtxbLy89gE6L5Qp661GoPMJHa/DAdLJqjP+6nOMbRvPpgOz2/YaIqQIjRBet/IB1ZNLl8if/uHDaH0XuPHZZ3Lt789UFtlr4YU3DDEFCcEEAXb196fks8vN6/Gq+oAqEoRY0l90hxcLgkKD7dBCcm3+B00tVaJJ/Tseiy+IYFowhYSZX0bgi0hfWNUrvHzB6YuqkNBrdeFViyLii4SFXasCgaQFgsUXA40EIiRP6BYhq9zNSiPqTMjN0KixolHrvOoxeMuuQ9iYez20fyYN7QGqhBeAyNHiKySOQtOS1rK+qwVC68ggTpAe/sl0SHTB/PVkvqjypzUjAammPlEff6G//zIA1q3l4YtGxLeCD2ljW7cbDGvimuWfZ0+H8AIQXRRe+cwW4QWvDQRBqB7NLLzyyt2sUHiRmaJRY0UZ/yR76OdPy9VTp+S9DU9GNv6H9yKv1Yfbnw3Gn0nL/CfZlkhIKA8PXHy+ePDFDyxr2s8CoeKLE99CniOY75Hy88d056VDrztvHMJ80YX0EddfkwbDcRB/WuRZ/DVe1iC48Bd1zxKOtbxpZTBdwovUZrYIrzyaWXi1IhReZKZo1Fjx+SefTLvXa2Dt38jkpUvRui4YvF34oOqtfOR0OgztgPYAmcILQCT54gZiBSLMig3ftBcIWBGFvxZf1FWONWF2Mb8Og2iBoNFpWBAWSssayu9PQ/qeq5AhvxBZwkp73HSbQfSFyjATUHgRQgipRSPHivMvdjlj5Vw1tIMlV3hZMG2HKUIIFi1ysM4rKKCM+MKbBhAp1qsUmmqzC/bx198f8jjlgeNRRuQJQ7rTJXbQHigf8sHfZhBVRaDwIoQQUotGjxW3+g+zW91Qf00h4ZUHREeexwnWDNNshMKLEEJIbaZjrPj9igeD+mC2G+rtc8vCC8DblLVuy19fRWYOCi9CCCG1mK6xYq55vnxPl6UhwgvA84WpN7t+CtOQWNuEaTnSHFB4EUIIqcV0jhVY6zQTn5ko01A/vabLp2HCizQ/FF6EEEJqMd1jBd7uw6cVZpsAQ31QL/v2YhYUXnMICi9CCCG1KHOswJfcMSWH/2EI4dLzpduDoqbZDOVEeVFulB/1KAqF1xzi7MiITE3dSLYIIYQQF4wRGCvI9EHhNYe4/PHH8tHlyxRfhBBCqsDYgDECYwWZPii85hi4ofA0A1cyjUaj0WjWMDZQdE0/FF6EEEIIISVB4UUIIYQQUhIUXoQQQgghJUHhRQghhBBSEhRehBBCCCElQeFFCCGEEFISjvAKvV5Ko9FoNBqNRmuMOcLr+vXr8tlnn0U2OTkZ2aeffkqj0Wg0Go1Gq9OslrLaCjrLEV6ff/55FGgjaAFGo9FoNBqNRituWk9BX0FnOcJramoqCsRObfpAGo1Go9FoNFq++VoK+go6yxFeN27ciAKtAKPRaDQajUaj3ZpZbQWdVSW8rNlINBqNRqPRaLSbN62vHOH1xRdfCExHoNFoNBqNRqPdmlmNFRReNBqNRqPRaLTGmyO8km97BSPSaDQajUaj0W7OLEHhRQghhBBCGg+FFyGEEEJISVB4EUIIIYSUBIUXIYQQQkhJUHgRQgghhJQEhRchhBBCSElQeBFCCCGElASFFyGEEEJISVB4EUIIIYSUBIUXIYQQQkhJUHgRQgghhJQEhRchhBBCSElQeBFCCCGElASFFyGEEEJISVB4EUIIIYSUBIUXIYQQQkhJUHgRQgghhJQEhRchhBBCSElY4QWj8CKEEEIImUYovAghhBBCSoLCixBCCCGkJCi8CCGEEEJKgsKLEEIIIaQkKLwIIYQQQkqCwosQQgghpCQovAghhBBCSoLCixBCCCGkJCi8CCGEEEJKgsKLEEIIIaQkmlN4jfXJjkcWS9sdt8ttt8GWSNfFZF8jObExSR+2UfqT4MzwWcjoyyvkqwtMPe9YLDvOTCahrcHkia2yCNfIgrvk0VdHk1BCWpUx6Wq3/c7t0n5gLAmfZib6Zcv3vmLynC93/nWPjE4l4bdCM/ahF7ukvYnK1L/JlqXEc02agvKFV60b8ry5OSAEKnFgdQivc3tkkXPsOunN0hOzUni5nXfQNtka9cuGYHgr4NWzvcuEENLKzIzwGjuwJL2PGvWQS+FVk6DwGh+W3r3rZNl3vibzkn1fXrhYHt7eJ2ONEMSkKWgy4TUpxx6fr/ZbK94ZDL1wV9XxD786nuz1aHbhNTUpo2e6Zc+TK2TRQ90FhUU9wsvzeA2W4/GaPDcg3Xs3ysPfXyHdt9DJOx6v31B2kZtgckyG3uqSHWuWS9szMz0UN4fHqyG5UnjVJCS8XBHs2rylXY3xRpIZp8mE16h03ZNeaIt2DshkXRfagGz5Znp8xR7qkaD0anbhpctR2KNTn/AqH+1lm6YpZEIK4gx0M+7xnSHhNR1QeNWkXuEFYbzhRBSNtDhNJrzcqa+6L7IzW+VbybHzNnXKhsqU5XLpvpLE0cwB4dV8nTeFF2keKLymCQqvmgSF18GNsuXggIxORJsiV/pkw8LqeKS1aRrhpS/CKivYIQ488+3KMWt7x51py2UHAz6vOoTX6OGN0v71OL0vL1wuGw5nLOa+iBcD7o6n70zceV+/S5Zt6pYBnb3TAUB8TMrA9iXxMUsxpeitvfIsX5DW03lnxQ2Ej/fLHlOvLyNswddk0Zruarf3+IB0b1oudybthCe0r37H1H9bf+RxLHyOp8ZlwHRAyxZi+gP7vyJt966QHW+5dXHSU8dXhU+NSu+mpH2R1g93SH/G7HMF5xytkB4V3xmso/OVMGU6SRv+za0yEAVOyuhbXdL5yGK5s1IftIu5hg4Om70eNdowl6LHmvYdOrxDHr63LT6fsDvaZPEjO+RYPUK4Zn6B62hiWLrWJNfRHXfL2gO2DSZl6MA6WWTvse+tk673vdaZGJVjBzpNue9KX7wx1+KdP9wo3X5c/x4210BPku+8p8w14Zxf3+p/IOjfZNvgdvnWtvjMR0yZe7nyADhfOk8l4YbRXy6uHBMvhwi011ifbFmarPcx52jZM+lan9G9d1fi3rYAdYzDLbpMi/bmvHySJ5Ki/ky/6GTun+8ulocP1niZpSrN5PxG6Zjr5PuB85sw9pa5Nr9v1zjZe2VAxuuY/RjrU2mg3bYPyGQt4VWk7zaMDXbLnjXmui+6Dstc87hP4jaM695z3u2n8vppJ97L2fFI6zB7hJfTwcUL6id716VphDxGWR2OF9718pLKDZbafHOzuJ3PpDmurSpeYgtXS4/tzD3htWXbijT9qJxNJrxe6JZO9dRlbd6a3lQ4BF+KSCxp+0Ln2AyQXUvTAcO1+bIIHWgc000vU3h1SXcove/tkaHcjnxY9nzXxv+2bBlMgo2k6HlIpaNf3hjeI3cm4fMq5ck/l21GBNTThpkUPdYMAnsy2xfWVuwN0UL5FbmO5hvRMSajRsxW3WMLjODVnmrnvvStzYiaSktW3cNbtrWl2zg3DRZeTl+jlzYMpl542J0vDCc7JqV3jQ23+XnttbPL8XZYq1wzV7plWSXcm4aa0ssuatQnox/M7c9q9cleml3B87vEW+M5ae5ddZ48a1tVbP1Z8FpCf/2UeXiubLvCq3Df7Z0j3+bpBzEwYe7/wDm8bWGndFbOf04/PWXu1+/ZeHfLnnNJOGlpmkZ4xbiDVD1TjZNvrUtvNtvxjffIw5X0Ap1PVlmc8PkyL2uAWbBOjtm+/mJ3OhAtNINxktf4W+kNPe/xvrjDdDp9L309SOpy1Bp4K+R3DLC0Xb2OPkN4zVuQNVBbT5D7UsS3nuyNn06nJmVsuFe2mKfGtOz6HPvnxHS8T9mO13SULyRPuZPDSoylnU8h4WXKXt0Jw7SYCtP/VFqnypOmI/DddPTgu7aixvplx0M7pHd4LF2v6Ewf2GnwetrQp+ixGNhSr3C21ergi+ZX8Dpa2JY56DkD0qkd8vD2Xhm6mAosfX/d1tGdCp68e1hdKw2bahwz979NZ0FnpS+pWrNTEWVK2H/XPAREYUXvOyv2vfPwjPK0acGn2yVEsB8cVQO+OQ97h+PrFy/8nNgjj+6s0VYF+9BUiJraqwfctsd7Y+/R1Lgcq4ix+bL2rfTcB6l6qz3LVH9fT99tzlH3JiMkT4zKuC2K0z+Z/uBMEu6dnzwLCq+pMel9PBWizkMaaWlmifByL/D0LUbXO1Hlbs8qixOuOwHT6Rxe5wwSG/riQwa2pQOaO62pPScb5RjS8Z+2F5rw5Ml+8sp4enPpcsyg8MKTaVcyEI/+Uj9N2qkTN/6duR1EjvDSQhlTdWirBC1qFv8yPo+FhNdtbeYcxedjvM99qq3ltne8GE8mJ9oOaPcslsU2naTd0mvAnZp0mBiX8YvD0v3XX6ukHV9D9bShT8FjnQeR+LoeTSJOnu+VterJ3Jkuq6JoWb3r6JvrYs+BM5jG1rapLxZv40aU6hdkcsQQ7pWx4W559Ks2fnJ/Ae8exhthQ0khx6+kpW3cGi99ny+WrvMIS/ufxeZ6ifbZKUF1LtK29tor876z6RvUutZ0ett9uzvzrW5LsB90++JlB4v1PhX8PlSfX+0BsveV82KUtyZXeZLT+GF0P4z22zOY1P3KgOfpTfv7uvpun0lzP18ZNQ9p6bSx7Z9C91vWOFIlvBzP/3xzjyXtR2YFs0N4TZpBo3Kce9OOH1xeSQ/TS470yiqLDq9aO+F2jvEN43WYmZYIDc/jlfkUp8sxg8JLP5U665iM2bScDs/YvK/fHXsndAcakSO8vM4605IBspDw0tOh3luzVZ2dj+44E6+EHajnPbUn7ZSjPMyT8NJk2ztXY6e6ZMMP1Xoqz6qFW2zZbVhNoWNzr+u0bpHVuN6KlTXnOjrfVRGujpAwOGlrMTQ1Jv0H9No/39T15FxL2R68xgkvt9yRx7PiHTUCYK8V8XfJHjTDqc5ESOkpwvrvO9czlaTtCAY1FZ6F01a2H/Sn1LGOablsONBfEeu5OGm6ZdBr2yrXWe7Ur7Lc6zKrP0vQAq5ST/eYbEuvrclzvc5asCqz11Hu/aanmqvLOv7qisq+NpNekSYnrcOsEF6OZyLXvA44qyw6PHCjH3vSHmNvmDpvXqeT8cSHpkY5wtTofByy4ualkXGOJgZkx72hAfErsuxlLXdLFl7OYFpP2wAdH16sdDDCwFpZvBx5GvqlM+mIs6ZP4oXJd8niRzbK2qXpIF0pR+E2DFDk2FrXUz3XW6Gy5rR3zj0QFkMQtspjcUeb3IlF3k+uk/bQWibnWvL7mZRGCi/kac915MWy3lGIdlVfeKBwXcT5alFyE/edQT9cRteemm5Lp8hyyGqr8z3y6He0lyixBXdJ54kaqea0f1DgT4Pwqho/nDxsmdxjsi2+tiaNYE49VfHLJHf+cJ10GiFWiWuvoxr3k+6n/L4o3VdAOJOWYxYIr+onszxzniKzyqLDlfs+Rj9Nht9GCr5BqbkZ4XVPl+utyySv8/bJipuXRv45Gh8OPQ1qwauPdz0dVe1ew7U+/cJLT9lg7YYpe+LB6DaHpk+lph599pzqtWNq+mSB6UDVZaG9I345ardhNrnH1mhfZ0D0FwlnkF/WnPauV3ipNUt4qSOddslYRJ51b3s4edWYxqqJ9rw/1CMDSdrRW5S6nCafY/Yadb4xeJP3nc7XDPD9lToV/O5TXltFa7oCHlu9vjVETpq1hVfG539q4rZfVT+sp2UrZapxjIMea+6WHe8nwQbtoQoKr6r7bVy6O5J9xvw+IO0fKLxmI60vvJw3ewpYZSGrIassTrha5I3PHLygPRjWtY/BXj0ZLlwtXWfSxdST46NybHtn5luNhYSXiVdk4M3vvH2y4t7kAKDx1uqk8dzj2/W6O6dd5suip/rS79lg4faZbtmwN71iyhBeesBvX7U69WBgn5ou2/Bkcq70lIKz4Dr9Sv/44B7njcDMcmS2YQFCx3pvwS3CZx/sNYq1UmrtjfOAUoRgWXPau07hlXqIjJB5xIjC4P14i8LrmxvlWI1npnzUwLxgtTyqvKOg4im/Z6NsSNrFPfc3e9/pNa5LpN2mUeDhJaJgW8GTVqjfAjlpBoWX99JK26ouGRhLFIe598fP9cmOp2q91ehO30UL5c8naXjfw9JlKt53p15tCK8tp5KL5aK7PrLS5zhTm3ocmZQhZ81eTh9AZiUtL7ycNVyBdSsR+g0f7ZHIKosTnmPafWzy0Islq011VEWFl3PjppbfLm7nHTZb16yOvt4BIH3Tp9JhDZs6VjqpVKD6HsOKRZ0VBq7A1Ia2AgKrocJLeRO+9c34KTT2YADtbUlMrynz1uWk5r7lFZejnjb0KXosBqYa7QvzP+NQRdH8ctq7TuElfRn3pPPWav3CK7xMoYaoyEF7SL8VXRuxdxQ4XpHI/HNa732ncLw5sTlvOeYRbKvqt3GdN0hreWJy2j8ovAwD+pMfIdP9bQbO2+2+OdeKKlPhvttdI6rNeQO10ue4b4a6FuoDUtDWlX+HVuTzLqSlaHHh5XZU6beTPJxv2qi3iLLK4oSvlrWhwQpvHOlpMjOoDWy7O/um1515UeGVceM2o/DKy9NfHOp8+NGaPXdYV+I8mXqmznEpwsuZXogt/VSE94RtzH2DTH8eIzV866dLlTEuR31t6FLHsRPmXvh+jvgqsn6ncH457V2v8JrsD34DrP3lLnU9qnRy+xnFZJ+sVQOgk472WDpTgjk4D3nGtIfdf5CqWsaQd33W6hv9vkJPedcg2FZufq6Zdve+YVhFTvtnCa+a12YB4ZX9HcA26XxZe+x0mYr33e6azcQWdkr3C4Fr1pD1fbBwH2Dx7q87tjrtR1qf1hZezjdb8r/xor9qX3HBZ5XFDzc3c7f92ja+2o4vfGf0APEbbHela16iL2uvkz36q+uFhZdBfzH+tq/IojU9Nf5Rav6gGJuta1ZHX+8AMC79O1fI4u+qdSChelumTPy9K5KvWN8efaUcX3KuMDEqvdtNeurttejL0E+5X5EuR3iZo/RA4X/FXk2BBc/l1Jgce8Z+tRrnr0uGJtwyxuWosw0d6m//6D8DqC9vx1/p7pL+vGuxQtH8ctq7XuEF8BV3u9ao8tV7fT2qdHL7GY9zvbLBfh3e1KPdfqRXedmKXiv+lJn7WQ49VRV6UKz3vnNxHmj8N7jzCLYVvvTvfp09/u8GRmTYTzTkkdP+mcIL2DdX/WtzzZ7i/1UB95zpP9L/grBC9mBa0Lnmqq+JQn23uTLS/7AwX766dGs0FmRes4bJ97vTNXK4vjb1Rn14dR+QMnlia+Lx+po8XOvFGtJylC+8CCGkBUinDWs8HDUFrscr918EEUJmFAovQgipQk0x6+nCZqRqsfbNvhVICCkDCi9CCKkinRbM/4r/DOJMnaXW1qzlJYREUHgRQkgrEhBe+NdI+WtACSEzDYUXIYS0Ilp43dEmy57pi79vRghpaii8CCGEEEJKgsKLEEIIIaQkKLwIIYQQQkqCwosQQgghpCQovAghhBBCSoLCixBCCCGkJCi8CCGEEEJKgsKLEEIIIaQkKLwIIYQQQkqiVOH14dlzNBqNRqPRaHPWKLxoNBqNRqPRSrJShRchhBBCyFyGwosQQgghpCQovAghhBBCSoLCixBCCCGkJCi8CCGEEEJKgsKLEEIIIaQkKLwIIYQQQkqCwosQQgghpCQovAghhBBCSoLCixBCCCGkJCi8CCGEEEJKgsKLEEIIIaQkKLwIIYQQQkqCwosQQgghpCQovAghhBBCSqJphNfZP4r87asi7U+JfONHIvMfiA2/EYZ9iEMIIYQQ0qrMuPA6e0nkRztE/uXSYoa4OIYQQgghpNWYUeHVdTT2aoUEVp7hGBxLCCGEENJKzJjwwtRhSFTVY0iDEEIIIaRVmBHhBW9VSEjdjNHzRQghhJBWoXThhfVZNzO9mGVIi2u+CCGEENIKlC686llIX9SQJiGEEEJIs1Oq8MLnIELC6S8fFLn3J/Hv/7A6/p1liOsfD6v/UxNj0tV+u2w4kWw6xPtuuy2x9i4TUpv+TYi/UfqTbUIIIYQQTanCK2tB/b0/jffj9+7DIr97P9v+6sfVx8PqWWg/dmBJRVRVC69YdLUfKCK1NP2y4bYl0p4p5gghhMwUF7ofk/t+8JgcvJgE3ALvbG03aW2Rd5Lturn4iqz+Qbus7r6QBNTDSdlsjr1P2f0d62Tn8WJjViPboRAnt0Rl3Hwy2c5i8rh0tqM+JZZthihVeOFDqCHR1AhD2oU4sTHxSoU9XpEo23QTPiuka4676eMJIYRMG7NOeD2xV/qOHzfWI8+uQnk6ZPcHSZQc6muHEXlt/WOy7PlaqimHgsLr+tGn5b4V6+WJFe2ycv9IEjo7KVV44Sv0IdHUCEPa9RESXghbIl03cWNimjFK62KXtN/mp5F60eLpyNhcr1ocx+6LpzcDZYyEo07fjxNKJ8GKzuiv2ZcIRO0BdNMmhJDZwawTXluVkjn/kqwsmF597RDIq14KCa9r8trj7bJs16AM7XvYCLD9MpTsmS28994fZNnyDhkZGSlXeGW9zYjpw0On4t8dW0WeOZhtWAPmHw9D2vUREDXRdKERJpF4qkOIRPHt2q443SxRVcnPE1CRIFOesv4DsWDyPWhWJKXljqc443Sq83bS9QRXhBVjyaac6KLwIoTMOnzBYbdfPHVUNq94IBIH9z+2V05PxPvB1cFXpHNlvO++9gek88i1KNwRXgFhUSXMLh+XnY8l6TzwmOzu2VslvMaO75I1HUk5OtbJ7jOqIA4BMTS8Xx40YU8cissnE8NysHOV3I+pO1PulZ1vyIUb8S63Ha7L0KEtlXwRd/XuMxLlnIjDKDwxW8e8sk58YNrMtueKp+XwSwWE15UeWfODDtn5rvn97i5ZZn8n1DxXN67J6d3rZNnSuJz3dzwtR64Oy74VZrvzqKllzOCujiidiug8tV1tT8hQ99Oy8oEkjZWm7OejWKlQ3tsju1cjf5zb63KuJ41/3wOrZF+Ox3FiYkL+Zs3aSHw1hfCCmDr8+/g3hNcWI7CybFqFlxVcIS9RshkiKI6cBfmJ8NKCx8sfAim4rszJH8cskQ2bVH7Yb/PSvy1aFEZpeUIydAwhhMwywsLLDLCrt0vfyJgMmUF0mdmG1wVcN4NytP2/90vf8JicO7lf9h2Je8q6hNeNQdnZYbY7fiL7To7I2PDRZGowFV4TJg3ktWbfoIxdHZEjPzMCoX29HL4S7fbImGp8aK8MQlzduCAH1yA/Iz5GrsnYu/tljRFgtl5uO1yQ17bukiOmfldtvrYuN67LxNWj0om8fnbU7L8mE0bB5Jb1yhvyBMTequ1RmmizTai7TTODc/tXyX3Ld8npSBya9lpuyvv8mWgfqHWurh5ab/Z3SOehkagefc9tieoXCa12cx6idBMhZo6zAlV71y50r4vTOGLSuDQo+6I23BW3qRWh7evkxZFExkUCEWIM7TAmg90/kd154tJgxVepwqvppxprTBOGKZJOKA0vLBJFRpxViTzl0UK6EEn2rwmCyLNpWG9YtSXHR3mE0o/jOXUghJBZRFh4dcjOyvh+QV6EgFn9ivl1TQ6vN79X7JWhxFOkqUt4RV6Vdul82/pdDImHKhZeY7FQerxHrsZ7jZIwAsbsX/NKaNxJhJeylc+flDGbfJSfrpcVINvltPntt4ND1RSo713LL+vYKxAvq2SfWqIVrd0y+7OF14jsW6nzEDn9vBZMtc6VK7wgDiNw7BmIo4dl37D5jboZcbcPaUd5xXWJxdsZeRbiVIk9K6yePWV+J+1ihV6EFl6TSVjgWvGB+CpVeDXF4voKWYKp2ruV6Y0C0TG+0IktPaaA8EqoiCflHbP5pyLLijG3DtWeNo+g8Eqo1CNjPyGEtDBh4aUFyAU5uNoO5vFAnLW2qR7hFYsRT+g4AqdaSFnTU5EpWgxdl3MvxZ6azSfjebe4XtVp2fK49b4uY2/vl83rH5MHV3TI/UncbOGVX9bTz+F30i6WQPs4JALGTw9mxWr+uTLcGJO+5x+rTK1iuvQqRNANU14ThrJF4szU4/pxUx4jwAYn4c1LpjStRytgUbmrBCmIpyYfjKY3H5AHO3vknNLWeZQqvAp/TuIP2daIz0nEBIRX4bCUSOw4U4gJjsgJiaxQmEWv20rz6N+UhkGMbTiBeEoo5QkrUGu/IVdkEkJIi1Kf8Eo8Oyv3y7lkrybo0Tqajrp9m9V+DPR2ALdEnhg7kCd5re+RC1evRVN61iasJ8XBF0MTcqTTbLc/LUegvazH65Sb1tWrE9FaJ13v62/DG9UhnX83LGPIb8QXGH5e+WW98NKqStqWqz0QhtnCK/ZurZd90bSptf3xlGWyPqum8LJcvyaD++L8YtF2PW6b9a/IQfM3OkeRh86kdcicg4pXLfF47TKCza8XkgkKr4Qb1+XCkXjqs+jbmKUKr9wPqBrxhd/RB1TN7yzzj7XWqA+oxh6nVJzke5HiabqwKNP7agkv83uTyiPyPqUiK+iNikSU6xmzabphphx2OyC8xg5sTPMJlpMQQlqf+oSXnb5qlwd/UmONVzLVhnVNev1RZb/9PlXH03Lw3RE59+4r0rmqQwkvk3PkFeuQTftPyjkM+CMn5eDml6KpwWp8MWQwwiBax7X5uBFARkRgXVWyzurqVVOmI3vl2TeSvFS9Y29csjbq0rC8lqzxSgVG4vlbvUveGT4u73xQo6wj+6O3K+9bs9e02YgMHd8rmzriNIPC68aZaD3XfT87HgksTdzG6+XwVbfMMe65uvB3u2T3SazvuibnDsXtb71l0VRn+wNyP9ahRfOj8bEPrnhY5XtdTj8HAbhKnj0Si1Csxdv93BtR+kHhdWq/bO5J4r4bvyzRlMILNM+/DIpFRkg0xeILQqfG1FsNDxK8R7EICgkaNyyKW8lTia6IgKBKxFh1+WPBF0wrVF4r4BKj6CKEzEbqFV4YjM+9od74e8AMyscDbzUaLpjBvjLltPWovKY9XgbnTb/HdknfqZe8gdx9o+6+pR2yZuvxpBw+AeFlGNoHb1OHPHvKSAm8Rfl4OnV4/8r18uK7scRw6j1xRnZX3rZcb4Rl9duWFw79RB6E+DLiJV5jlV9WvPG4OtqH6bdXjOjLnmqMPW6pSHJIpijX9Fyrea6uHt/uvF3Y2T1sSplghbFalxYtqke+yksZT1emb0YinSdeHIyFWUh4/cNL6bWBNnj+uIwVWOMFShde/CfZhBBCCJmrlC68QNfRsIi6GUNahBBCCCGtwIwIL5C10L4eq39BPSGEEELIzDFjwgvAW3Uz0444hp4uQgghhLQaMyq8ANZn1bPgHnG5posQQgghrciMCy8LPgeBqUN8CBVfoYdXC4bfCMO++j8ZQQghhBDSPDSN8CKEEEIIme1QeBFCCCGElASFFyGEEEJISVB4EUIIIYSUBIUXIYQQQkhJUHgRQgghhJQEhRchhBBCSElQeBFCCCGElASFFyGEEEJISVB4EUIIIYSUBIUXIYQQQkhJUHgRQgghhJQEhRchhBBCSElQeBFCCCGElASFFyGEEEJISZQqvD48e45Go9FoNBptzlqpwosQQgghZC5D4UUIIYQQUhIUXoQQQgghJUHhRQghhBBSEhRehBBCCCElQeFFCCGEEFISFF6EEEIIISVB4UUIIYQQUhIUXoQQQgghJUHhRQghhBBSEqnwuib/HxDZigB9+J7dAAAAAElFTkSuQmCC', title: 'title', description: 'and description', impels: 0, impelled: false, poster_name: 'i', poster_discriminator: 'mpossible name', posted_timestamp: new Date().getTime(), notes: []});\r\n}\r\nlib.commit();","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","<script>\r\n\timport { push } from 'svelte-spa-router';\r\n\r\n\texport let user;\r\n\texport let openUserSettingsModal;\r\n\texport let openNewPostModal;\r\n\tlet USER_TOOLTIP_IS_OPEN = false;\r\n\texport \tfunction closeUserTooltip() {\r\n\t\tUSER_TOOLTIP_IS_OPEN = false;\r\n\t}\r\n\tfunction openUserTooltip() {\r\n\t\tUSER_TOOLTIP_IS_OPEN = true;\r\n\t}\r\n</script>\r\n\r\n<div on:click={closeUserTooltip} style=\"border-bottom: 1px solid var(--secondary-primary-color);\">\r\n\t<div style=\"display: flex; justify-content: space-between; align-items: center; margin: 0 auto; max-width: 1000px; padding: 40px 60px;\">\t\r\n\t\t<div style=\"width: 33.33%;\">\t\t\t\r\n\t\t\t<span id=\"logo\" on:click={() => push('/')} style=\"font-size: 24px; font-weight: 900; color: var(--tertiary-secondary-color);\">Bambino</span>\r\n\t\t</div>\r\n\t\t<div style=\"display: flex; justify-content: flex-end; width: 33.33%;\">\r\n\t\t\t{#if (!(user === false))}\r\n\t\t\t\t<div style=\"position: relative;\">\r\n\t\t\t\t\t<div on:click|stopPropagation={openUserTooltip} id=\"open-user-tooltip\" style=\"display: flex; align-items: center;\">\r\n\t\t\t\t\t\t<img style=\"width: 30px; height: 30px; border-radius: 100%; background-color: var(--theme-color);\">\r\n\t\t\t\t\t\t<svg style=\"margin-left: 5px; width: 16px; height: 16px; color: var(--tertiary-secondary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144'/></svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{#if USER_TOOLTIP_IS_OPEN}\r\n\t\t\t\t\t\t<div on:click|stopPropagation style=\"position: absolute; top: calc(100% + 5px); right: 0; width: 200px; background-color: var(--primary-primary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; box-shadow: 2px 2px 4px var(--secondary-primary-color);\">\r\n\t\t\t\t\t\t\t<div style=\"padding: 12px 18px; background-color: var(--primary-secondary-color); border-bottom: 1px solid var(--secondary-primary-color);\">\r\n\t\t\t\t\t\t\t\t<span>{user.name}</span>\r\n\t\t\t\t\t\t\t\t<span style=\"color: var(--tertiary-secondary-color);\">(@{user.discriminator})</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div on:click={openUserSettingsModal} class=\"user-tooltip-link\" style=\"display: flex; align-items: center; padding: 12px 18px;\">\r\n\t\t\t\t\t\t\t\t<span style=\"font-weight: 700;\">User Settings</span>\r\n\t\t\t\t\t\t\t\t<svg style=\"margin-left: auto; width: 16px; height: 16px;\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Settings</title><path d='M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button on:click={openNewPostModal} style=\"margin-left: 30px; width: 80px; padding: 5px 0; background-color: var(--theme-color); border: 0; border-radius: 4px; font-weight: 700; color: var(--primary-primary-color);\" id=\"new-post-button\">New Post</button>\r\n\t\t\t{:else}\r\n\t\t\t\t<button on:click={() => push('/login')} style=\"width: 80px; padding: 5px 0; background-color: var(--primary-primary-color); border: 1px solid var(--tertiary-secondary-color); border-radius: 4px; font-weight: 700; color: var(--tertiary-secondary-color);\" id=\"login-button\">Login</button>\t\r\n\t\t\t\t<button on:click={() => push('/register')} style=\"margin-left: 10px; width: 80px; padding: 5px 0; background-color: var(--tertiary-secondary-color); border: 0; border-radius: 4px; font-weight: 700; color: var(--primary-primary-color);\" id=\"register-button\">Register</button>\r\n\t\t\t{/if}\t\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t#logo:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#login-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tborder: 1px solid var(--tertiary-tertiary-color) !important;\r\n\t\tcolor: var(--tertiary-tertiary-color) !important;\r\n\t}\r\n\t#register-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--tertiary-tertiary-color) !important;\r\n\t\tborder: 1px solid var(--tertiary-tertiary-color) !important;\r\n\t}\r\n\t#open-user-tooltip:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.user-tooltip-link:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--primary-tertiary-color) !important;\r\n\t}\r\n\t.user-tooltip-link:hover > * {\r\n\t\tcolor: var(--tertiary-secondary-color) !important;\r\n\t}\r\n\t#new-post-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--theme-color-strong) !important;\r\n\t}\r\n</style>","<script>\r\n\timport Cookies from 'js-cookie';\r\n\r\n\texport let lib;\r\n\t\r\n\texport function openUserSettingsModal() {\r\n\t\tUSER_SETTINGS_MODAL_IS_OPEN = true;\r\n\t}\r\n\texport function openNewPostModal() {\r\n\t\tNEW_POST_MODAL_IS_OPEN = true;\r\n\t}\r\n\tlet USER_SETTINGS_MODAL_IS_OPEN = false;\r\n\tlet NEW_POST_MODAL_IS_OPEN = false;\r\n\tfunction closeUserSettingsModal() {\r\n\t\tUSER_SETTINGS_MODAL_IS_OPEN = false;\r\n\t}\r\n\tfunction closeNewPostModal() {\r\n\t\tNEW_POST_MODAL_IS_OPEN = false;\r\n\t}\r\n\r\n\texport let user;\r\n\texport let changed_user = user;\r\n\texport let changePosts;\r\n\texport let POST_NOTES_DISPLAY_LIMIT;\r\n\texport let changePostNotesDisplayLimit;\r\n\r\n\texport let user_logged_in;\r\n\r\n\tlet posts = lib.queryAllPosts();\r\n\r\n\tlet user_settings = {\r\n\t\tname: user.name,\r\n\t\tdiscriminator: user.discriminator,\r\n\t\temail: user.email,\r\n\t\tpassword: ''\r\n\t}\r\n\r\n\tlet USER_SETTINGS_CHANGE_ERROR_MESSAGE = '';\r\n\tfunction changeUserSettings() {\r\n\t\tif (user_settings.name.length < 2 || user_settings.name.length > 32) {\r\n\t\t\tUSER_SETTINGS_CHANGE_ERROR_MESSAGE = 'Your name must be between 2 and 32 characters in length.';\r\n\t\t} else if (user_settings.discriminator.length < 2 || user_settings.discriminator.length > 32) {\r\n\t\t\tUSER_SETTINGS_CHANGE_ERROR_MESSAGE = 'Your discriminator must be between 2 and 32 characters in length.';\r\n\t\t} else if (!(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(user_settings.email))) {\r\n\t\t\tUSER_SETTINGS_CHANGE_ERROR_MESSAGE = 'The e-mail you entered is not valid.';\t\t\t\t\r\n\t\t} else {\r\n\t\t\tlet valid_password = true;\r\n\t\t\tif (user_settings.password.length >= 1) {\r\n\t\t\t\tif (user_settings.password.length < 8) {\r\n\t\t\t\t\tvalid_password = false;\r\n\t\t\t\t\tUSER_SETTINGS_CHANGE_ERROR_MESSAGE = 'Your password must be at least 8 characters long.';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (valid_password) {\r\n\t\t\t\tlet email_query = false;\r\n\t\t\t\tif (user_settings.email != user.email) {\r\n\t\t\t\t\temail_query = lib.queryUsersWithEmail(user_settings.email);\r\n\t\t\t\t}\r\n\t\t\t\tif (email_query && email_query[0]) {\r\n\t\t\t\t\tUSER_SETTINGS_CHANGE_ERROR_MESSAGE = 'There is already an account registered with this email.';\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (user_settings.password.length > 1) {\r\n\t\t\t\t\t\tlib.updateUser(user.email, user_settings);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlib.updateUser(user, user_settings, true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tCookies.set('user', JSON.stringify(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: user_settings.name,\r\n\t\t\t\t\t\t\tdiscriminator: user_settings.discriminator,\r\n\t\t\t\t\t\t\temail: user_settings.email\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t));\r\n\r\n\t\t\t\t\tuser.name = user_settings.name;\r\n\t\t\t\t\tuser.discriminator = user_settings.discriminator;\r\n\t\t\t\t\tuser.email = user_settings.email;\r\n\r\n\t\t\t\t\tchanged_user = user;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcloseUserSettingsModal();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlet newPostImageInput, NEW_POST_IMAGE;\r\n\tconst changeNewPostImage = (e) => {\r\n\t  \tlet image = e.target.files[0];\r\n        let reader = new FileReader();\r\n\r\n        reader.onload = e => {\r\n             NEW_POST_IMAGE = e.target.result;\r\n        };\r\n\r\n        reader.readAsDataURL(image);\r\n\t}\r\n\tlet NEW_POST_TITLE, NEW_POST_DESCRIPTION;\r\n\tfunction newPost() {\r\n\t\tif (NEW_POST_IMAGE) {\r\n\t\t\tlet valid_title = true, valid_description = true;\r\n\t\t\tif (NEW_POST_TITLE && NEW_POST_TITLE.length) {\r\n\t\t\t\tif (NEW_POST_TITLE.length == 0 || NEW_POST_TITLE.length > 80) {\r\n\t\t\t\t\tvalid_title = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (NEW_POST_DESCRIPTION && NEW_POST_DESCRIPTION.length) {\r\n\t\t\t\tif (NEW_POST_DESCRIPTION.length == 0 || NEW_POST_DESCRIPTION.length > 240) {\r\n\t\t\t\t\tvalid_description = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (valid_title && valid_description) {\r\n\t\t\t\tconst post = lib.insertPost({image_blob: NEW_POST_IMAGE, title: NEW_POST_TITLE, description: NEW_POST_DESCRIPTION, impels: 0, impelled: false, poster_name: user.name, poster_discriminator: user.discriminator, posted_timestamp: new Date().getTime(), notes: []});\r\n\t\t\t\tposts = [post, ...posts]\r\n\t\t\t\tchangePosts(posts);\r\n\r\n\t\t\t\tPOST_NOTES_DISPLAY_LIMIT = [...POST_NOTES_DISPLAY_LIMIT, 3];\r\n\t\t\t\tchangePostNotesDisplayLimit(POST_NOTES_DISPLAY_LIMIT);\r\n\r\n\t\t\t\tcloseNewPostModal();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction logout() {\r\n\t\tuser_logged_in = false;\r\n\t\tCookies.remove('user');\r\n\t}\r\n</script>\r\n\r\n{#if (!(user === false) && (USER_SETTINGS_MODAL_IS_OPEN || NEW_POST_MODAL_IS_OPEN))}\r\n\t<div on:click={closeNewPostModal} on:click={closeUserSettingsModal} style=\"position: fixed; z-index: 2; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8);\">\r\n\t\t{#if USER_SETTINGS_MODAL_IS_OPEN}\r\n\t\t\t<div on:click|stopPropagation style=\"margin: 60px auto; width: 500px; padding: 30px 40px; background-color: var(--primary-primary-color); border-radius: 8px; box-sizing: border-box;\">\r\n\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t<span style=\"margin: auto 0; font-size: 18px; font-weight: 900;\">USER SETTINGS</span>\r\n\t\t\t\t\t<svg on:click={closeUserSettingsModal} id=\"user-settings-close-icon\" style=\"margin-left: auto; width: 24px; height: 24px;\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M368 368L144 144M368 144L144 368'/></svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-top: 30px;\">\r\n\t\t\t\t\t<input bind:value={user_settings.email} style=\"width: 100%; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" placeholder=\"E-mail\">\r\n\t\t\t\t\t<input bind:value={user_settings.password} style=\"margin-top: 10px; width: 100%; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" placeholder=\"Password (hidden)\" type=\"password\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-top: 30px; padding-top: 30px; border-top: 1px solid var(--secondary-secondary-color);\">\r\n\t\t\t\t\t<img style=\"width: 90px; height: 90px; border-radius: 100%; background-color: var(--theme-color);\">\r\n\t\t\t\t\t<div style=\"margin-top: 10px; display: flex; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px;\">\r\n\t\t\t\t\t\t<input bind:value={user_settings.name} style=\"width: 100%; padding: 12px 18px; background-color: transparent; border: 0; outline: none;\" placeholder=\"Name\" maxlength=\"32\">\r\n\t\t\t\t\t\t<div style=\"position: relative;\">\r\n\t\t\t\t\t\t\t<svg style=\"position: absolute; top: -8px; left: 18px; width: 18px; height: 18px; background-color: var(--secondary-primary-color); border-radius: 100%; color: var(--tertiary-secondary-color;\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>At</title><path d='M320 254.27c-4.5 51-40.12 80-80.55 80s-67.34-35.82-63.45-80 37.12-80 77.55-80 70.33 36 66.45 80z' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/><path d='M319.77 415.77c-28.56 12-47.28 14.5-79.28 14.5-97.2 0-169-78.8-160.49-176s94.31-176 191.51-176C381 78.27 441.19 150 432.73 246c-6.31 71.67-52.11 92.32-76.09 88.07-22.56-4-41.18-24.42-37.74-63.5l8.48-96.25' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t\t<input bind:value={user_settings.discriminator} style=\"width: 100%; padding: 12px 18px; background-color: var(--secondary-primary-color); border: 0; outline: none; color: var(--tertiary-secondary-color);\" placeholder=\"Discriminator\" maxlength=\"32\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"display: flex; margin-top: 30px; padding-top: 30px; border-top: 1px solid var(--secondary-secondary-color);\">\r\n\t\t\t\t\t<div on:click={logout} id=\"user-settings-logout\" style=\"display: flex; margin-top: auto;\">\r\n\t\t\t\t\t\t<svg style=\"width: 18px; height: 18px; color: #f53d59;\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Log Out</title><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t<span style=\"margin-left: 5px; font-size: 14px; font-weight: 700; color: #f53d59;\">Log Out</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"display: flex; margin-left: auto;\">\r\n\t\t\t\t\t\t<span on:click={closeUserSettingsModal} id=\"user-settings-cancel\" style=\"margin: auto 0 auto auto; font-weight: 700; color: var(--tertiary-primary-color);\">Cancel</span>\r\n\t\t\t\t\t\t<button on:click={changeUserSettings} id=\"save-user-settings-button\" style=\"margin-left: 15px; padding: 8px 14px; background-color: var(--theme-color); border: 0; border-radius: 4px; font-weight: 700; color: var(--primary-primary-color);\">Save</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{#if USER_SETTINGS_CHANGE_ERROR_MESSAGE}\r\n\t\t\t\t\t<div style=\"display: flex; justify-content: center; align-items: center; margin-top: 10px; height: 34px; background-color: #f53d59; border-radius: 4px;\">\r\n\t\t\t\t\t\t<svg style=\"width: 14px; height: 14px; color: var(--primary-primary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Alert</title><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/><circle cx='256' cy='416' r='16' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t<span style=\"margin-left: 10px; font-size: 12px; color: var(--primary-primary-color);\">{USER_SETTINGS_CHANGE_ERROR_MESSAGE}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t{:else if NEW_POST_MODAL_IS_OPEN}\r\n\t\t\t<div on:click|stopPropagation style=\"margin: 60px auto; width: 500px; padding: 30px 40px; background-color: var(--primary-primary-color); border-radius: 8px; box-sizing: border-box;\">\r\n\t\t\t\t<input style=\"display:none\" type=\"file\" accept=\".jpg, .jpeg, .png\" on:change={(e) => changeNewPostImage(e)} bind:this={newPostImageInput}>\r\n\t\t\t\t{#if NEW_POST_IMAGE}\r\n\t\t\t\t\t<div style=\"display: flex; flex-direction: column; justify-content: center; align-items: center; height: 200px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 8px;\">\r\n\t\t\t\t\t\t<img style=\"max-width: 100%; max-height: 100%;\" src={NEW_POST_IMAGE}>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div on:click={() => newPostImageInput.click()} style=\"display: flex; flex-direction: column; justify-content: center; align-items: center; height: 200px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 8px;\" id=\"new-post-upload-image\">\r\n\t\t\t\t\t\t<svg style=\"width: 50px; height: 50px; color: var(--tertiary-secondary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Image</title><rect x='48' y='80' width='416' height='352' rx='48' ry='48' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/><circle cx='336' cy='176' r='32' fill='none' stroke='currentColor' stroke-miterlimit='10' stroke-width='32'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t<span style=\"margin-top: 15px; font-size: 16px; font-weight: 700; color: var(--tertiary-secondary-color);\">CLICK TO SELECT AND UPLOAD AN IMAGE</span> \r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t\t<div style=\"margin-top: 30px;\">\r\n\t\t\t\t\t<input bind:value={NEW_POST_TITLE} style=\"width: 100%; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" placeholder=\"Title (optional)\" maxlength=\"80\">\r\n\t\t\t\t\t<textarea bind:value={NEW_POST_DESCRIPTION} style=\"margin-top: 10px; width: 100%; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" placeholder=\"Description (optional)\" rows=\"4\" maxlength=\"240\" resize=\"none\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"display: flex; margin-top: 30px;\">\r\n\t\t\t\t\t<span on:click={closeNewPostModal} id=\"new-post-cancel\" style=\"margin: auto 0 auto auto; font-weight: 700; color: var(--tertiary-primary-color);\">Cancel</span>\r\n\t\t\t\t\t<button on:click={newPost} style=\"margin-left: 15px; padding: 8px 14px; background-color: var(--theme-color); border: 0; border-radius: 4px; font-weight: 700; color: var(--primary-primary-color);\" id=\"new-post-post-button\">Post</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n{/if}\r\n\r\n<style>\r\n\t#save-user-settings-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--theme-color-strong) !important;\r\n\t}\r\n\t#user-settings-logout:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#user-settings-logout:hover > * {\r\n\t\tcolor: #de3c55 !important;\r\n\t}\r\n\t#user-settings-cancel:hover {\r\n\t\tcursor: pointer;\r\n\t\tcolor: var(--tertiaray-secondary-color) !important;\r\n\t}\r\n\t#new-post-upload-image:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--primary-tertiary-color) !important;\r\n\t\tborder-color: var(--secondary-tertiary-color) !important;\r\n\t}\r\n\t#new-post-cancel:hover {\r\n\t\tcursor: pointer;\r\n\t\tcolor: var(--tertiaray-secondary-color) !important;\r\n\t}\r\n\t#new-post-post-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--theme-color-weak) !important;\r\n\t}\r\n\t#user-settings-close-icon:hover {\r\n\t\tcursor: pointer;\r\n\t\tcolor: var(--tertiary-secondary-color) !important;\r\n\t}\r\n</style>","<script>\r\n\timport * as utils from './utils.js';\r\n\r\n\timport * as lib from './lib.js';\r\n\r\n\timport Cookies from 'js-cookie';\r\n\r\n\timport { push } from 'svelte-spa-router';\r\n\r\n\timport Header from './Header.svelte';\r\n\timport Modal from './Modal.svelte';\r\n\r\n\tconst users = lib.queryAllUsers();\r\n\r\n\tvar posts = lib.queryAllPosts();\r\n\tlet POST_NOTES_DISPLAY_LIMIT = new Array(posts.length + 1);\r\n\tPOST_NOTES_DISPLAY_LIMIT.fill(3);\r\n\r\n\tfunction changePosts(changed_posts) {\r\n\t\tposts = changed_posts;\r\n\t}\r\n\tfunction changePostNotesDisplayLimit(changed_posts_notes_display_limits) {\r\n\t\tPOST_NOTES_DISPLAY_LIMIT = changed_posts_notes_display_limits;\r\n\t}\r\n\r\n\tvar user = false;\r\n\tif (Cookies.get('user')) {\r\n\t\tuser = JSON.parse(Cookies.get('user'));\r\n\t}\r\n\tlet closeUserTooltip;\r\n\tlet openUserSettingsModal;\r\n\r\n\tlet openNewPostModal;\r\n\r\n\tfunction impelPost(post_id, index) {\r\n\t\tconst {impels, impelled} = lib.updateImpelPost(post_id);\r\n\t\tposts[index].impels = impels;\r\n\t\tposts[index].impelled = impelled;\r\n\t}\r\n\tlet uploadImageAsNoteInput = new Array(posts.length);\r\n\tfunction uploadImageAsNote (e, post_id, index) {\r\n\t  \tlet image = e.target.files[0];\r\n        let reader = new FileReader();\r\n\r\n        reader.onload = e => {\r\n\t\t\tlib.updatePostNotes(post_id, {image_blob: e.target.result, poster_name: user.name, poster_discriminator: user.discriminator, posted_timestamp: new Date().getTime()});\t\t\t\t\r\n\t\t\tposts[index].notes = [{image_blob: e.target.result, poster_name: user.name, poster_discriminator: user.discriminator, posted_timestamp: new Date().getTime()}, ...posts[index].notes];\r\n        };\r\n\r\n        reader.readAsDataURL(image);\r\n\t}\r\n</script>\r\n\r\n<Modal lib={lib} user={user} bind:user_logged_in={user} posts={posts} POST_NOTES_DISPLAY_LIMIT={POST_NOTES_DISPLAY_LIMIT} changePostNotesDisplayLimit={changePostNotesDisplayLimit} changePosts={changePosts} bind:changed_user={user} bind:openUserSettingsModal={openUserSettingsModal} bind:openNewPostModal={openNewPostModal}/>\r\n<Header user={user} openUserSettingsModal={openUserSettingsModal} openNewPostModal={openNewPostModal} bind:closeUserTooltip={closeUserTooltip} />\r\n<div on:click={closeUserTooltip} style=\"width: 100%; height: 100%;\">\r\n\t<div style=\"margin: 0 auto; max-width: 1000px; padding: 0 60px;\">\r\n\t\t{#each posts as post, index}\r\n\t\t\t<div style=\"display: flex; padding: 60px 0;\">\r\n\t\t\t\t<div style=\"width: 50%;\">\r\n\t\t\t\t\t<div style=\"padding-bottom: 100%; border: 1px solid var(--secondary-secondary-color); border-radius: 8px; background-image: url({post.image_blob}); background-size: contain; background-position: center; background-repeat: no-repeat;\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"display: flex; margin-top: -20px;\">\r\n\t\t\t\t\t\t{#if user}\r\n\t\t\t\t\t\t\t{#if post.impelled}\r\n\t\t\t\t\t\t\t\t<div on:click={() => impelPost(post.ID, index)} style=\"position: relative; display: flex; flex-direction: column; margin: auto; width: 40px; height: 40px; background-color: var(--primary-primary-color); border: 4px solid var(--theme-color-weak); border-top-left-radius: 25%; border-top-right-radius: 25%; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;\" id=\"impel-post\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"margin: auto; font-weight: 900; color: var(--theme-color-weak);\">{post.impels}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<div on:click={() => impelPost(post.ID, index)} style=\"position: relative; display: flex; flex-direction: column; margin: auto; width: 40px; height: 40px; background-color: var(--primary-primary-color); border: 4px solid var(--theme-color); border-top-left-radius: 25%; border-top-right-radius: 25%; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;\" id=\"impel-post\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"margin: auto; font-weight: 900; color: var(--theme-color);\">{post.impels}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t<div on:click={() => push('/register')} style=\"position: relative; display: flex; flex-direction: column; margin: auto; width: 40px; height: 40px; background-color: var(--primary-primary-color); border: 4px solid var(--theme-color); border-top-left-radius: 25%; border-top-right-radius: 25%; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;\" id=\"impel-post\">\r\n\t\t\t\t\t\t\t\t<span style=\"margin: auto; font-weight: 900; color: var(--theme-color);\">{post.impels}</span>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{#if (post.title || post.description)}\r\n\t\t\t\t\t\t<div style=\"display: flex; flex-direction: column; margin-top: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--secondary-secondary-color);\">\r\n\t\t\t\t\t\t\t{#if (post.title)}\r\n\t\t\t\t\t\t\t\t<span style=\"font-size: 18px; font-weight: 700;\">{post.title}</span>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t{#if (post.description)}\r\n\t\t\t\t\t\t\t\t<span style=\"margin-top: 5px; color: var(--tertiary-secondary-color);\">{post.description} <span class=\"link\" style=\"color: var(--theme-color);\">#perseverance</span></span>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t\t<div style=\"display: flex; margin-top: 15px; padding-top: 10px;\">\r\n\t\t\t\t\t\t<img class=\"mini-user-profile-avatar\" style=\"width: 30px; height: 30px; border-radius: 100%; background-color: var(--theme-color);\">\r\n\t\t\t\t\t\t<div class=\"mini-user-profile-name\" style=\"display: flex; flex-direction: column; justify-content: space-between; margin-left: 12px;\">\r\n\t\t\t\t\t\t\t<span style=\"margin-top: -3px; font-weight: 700;\">{post.poster_name}</span>\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; color: var(--tertiary-tertiary-color);\">@{post.poster_discriminator}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style=\"margin-left: auto;\">\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; color: var(--tertiary-secondary-color);\">{utils.fromNow(post.posted_timestamp)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<div style=\"flex: 1; padding-left: 30px;\">\r\n\t\t\t\t\t{#if (user)}\r\n\t\t\t\t\t\t<input style=\"display:none\" type=\"file\" accept=\".jpg, .jpeg, .png\" on:change={(e) => uploadImageAsNote(e, post.ID, index)} bind:this={uploadImageAsNoteInput[post.ID]}>\r\n\t\t\t\t\t\t<div on:click={() => uploadImageAsNoteInput[post.ID].click()} id=\"upload-image-as-note\" style=\"display: flex; justify-content: center; padding: 20px 30px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-secondary-color); border-radius: 8px;\">\r\n\t\t\t\t\t\t\t<svg style=\"width: 18px; height: 18px; color: var(--tertiary-tertiary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Image</title><rect x='48' y='80' width='416' height='352' rx='48' ry='48' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/><circle cx='336' cy='176' r='32' fill='none' stroke='currentColor' stroke-miterlimit='10' stroke-width='32'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t\t<span style=\"margin-left: 10px; font-weight: 700; color: var(--tertiary-tertiary-color);\">CLICK TO SELECT AND UPLOAD AN IMAGE AS A NOTE</span> \r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<div on:click={() => push('/register')} id=\"upload-image-as-note\" style=\"display: flex; justify-content: center; padding: 20px 30px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-secondary-color); border-radius: 8px;\">\r\n\t\t\t\t\t\t\t<svg style=\"width: 18px; height: 18px; color: var(--tertiary-tertiary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Image</title><rect x='48' y='80' width='416' height='352' rx='48' ry='48' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/><circle cx='336' cy='176' r='32' fill='none' stroke='currentColor' stroke-miterlimit='10' stroke-width='32'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32'/></svg>\r\n\t\t\t\t\t\t\t<span style=\"margin-left: 10px; font-weight: 700; color: var(--tertiary-tertiary-color);\">CLICK TO SELECT AND UPLOAD AN IMAGE AS A NOTE</span> \r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t{/if}\t\r\n\t\t\t\t\t<div style=\"display: flex; margin-top: 20px;\">\t\t\t\r\n\t\t\t\t\t\t<span style=\"font-size: 18px; font-weight: 700;\">Notes</span>\r\n\t\t\t\t\t\t<span style=\"margin-left: auto; font-size: 18px; color: var(--tertiary-tertiary-color);\">{post.notes.length}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{#each post.notes as post_note, index}\r\n\t\t\t\t\t\t{#if index < POST_NOTES_DISPLAY_LIMIT[post.ID]}\r\n\t\t\t\t\t\t\t<div style=\"display: flex; margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--secondary-secondary-color);\">\r\n\t\t\t\t\t\t\t\t<img class=\"mini-user-profile-avatar\" style=\"width: 40px; height: 40px; border-radius: 100%; background-color: var(--theme-color);\">\r\n\t\t\t\t\t\t\t\t<div style=\"display: flex; flex-direction: column; justify-content: space-between; flex: 1; margin-left: 15px;\">\r\n\t\t\t\t\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"mini-user-profile-name\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-weight: 700;\">{post_note.poster_name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"margin-left: 5px; color: var(--tertiary-tertiary-color);\">@{post_note.poster_discriminator}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<span style=\"margin-left: 5px; color: var(--tertiary-secondary-color);\">{utils.fromNow(post_note.posted_timestamp)}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<img style=\"margin-top: 10px; max-width: 100%; max-height: 128px; object-fit: contain;\" src={post_note.image_blob}>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t{/each}\t\t\t\t\r\n\t\t\t\t\t{#if (post.notes.length > POST_NOTES_DISPLAY_LIMIT[post.ID])}\r\n\t\t\t\t\t\t<div on:click={() => POST_NOTES_DISPLAY_LIMIT[post.ID] = POST_NOTES_DISPLAY_LIMIT[post.ID] + 50} id=\"view-more-notes-link\" style=\"display: flex; margin-top: 15px; padding-top: 20px; border-top: 1px solid var(--secondary-secondary-color);\">\r\n\t\t\t\t\t\t\t<span style=\"margin: auto 0; font-weight: 700; color: var(--tertiary-tertiary-color);\">View more notes</span>\r\n\t\t\t\t\t\t\t<svg style=\"margin-left: auto; width: 18px; height: 18px; color: var(--tertiary-tertiary-color);\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Forward</title><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100'/></svg>\t\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t{/if}\t\t\t\t\t\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\t\t\t\r\n\t\t{/each}\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t#view-more-notes-link:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#view-more-notes-link:hover > * {\r\n\t\tcolor: var(--tertiary-secondary-color) !important;\r\n\t}\r\n\t.impel-note:hover, .upload-image-as-subnote:hover {\r\n\t\tcursor: pointer;\r\n\t\tcolor: var(--tertiary-tertiary-color) !important;\r\n\t}\r\n\t#upload-image-as-note:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--primary-tertiary-color) !important;\r\n\t\tborder-color: var(--secondary-tertiary-color) !important;\r\n\t}\r\n\t#upload-image-as-note:hover > * {\r\n\t\tcolor: var(--tertiary-secondary-color) !important;\r\n\t}\r\n\t.mini-user-profile-avatar:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.mini-user-profile-name:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t#impel-post:hover {\r\n\t\tcursor: pointer;\r\n\t\tborder-color: var(--theme-color-weak) !important;\r\n\t}\r\n\t#impel-post:hover > span {\r\n\t\tcolor: var(--theme-color-weak) !important;\r\n\t}\r\n\t#search-results-post:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--primary-tertiary-color);\r\n\t}\r\n</style>","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","<script>\r\n\timport * as lib from './lib.js';\r\n\r\n\timport Cookies from 'js-cookie';\r\n\r\n\timport { sha256 } from 'js-sha256';\r\n\r\n\timport { location, push } from 'svelte-spa-router';\r\n\r\n\tif (Cookies.get('user')) {\r\n\t\tpush('/');\r\n\t}\r\n\r\n\tlet ERROR_LOCATION;\r\n\tlet ERROR_MESSAGE;\r\n\r\n\tlet name;\r\n\tlet email;\r\n\tlet password;\r\n\r\n\tfunction register() {\r\n\t\tif (name.length < 2 || name.length > 32) {\r\n\t\t\tERROR_LOCATION = 'name';\r\n\t\t\tERROR_MESSAGE = 'Your name must be between 2 and 32 characters in length.';\r\n\t\t} else if (!(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))) {\r\n\t\t\tERROR_LOCATION = 'email';\r\n\t\t\tERROR_MESSAGE = 'This e-mail is not valid.';\t\t\t\t\r\n\t\t} else if (password.length < 8) {\r\n\t\t\tERROR_LOCATION = 'password';\r\n\t\t\tERROR_MESSAGE = 'Your password must be at least 8 characters long.';\r\n\t\t} else {\r\n\t\t\tconst email_query = lib.queryUsersWithEmail(email);\r\n\t\t\tif (email_query[0]) {\r\n\t\t\t\tERROR_LOCATION = 'email';\r\n\t\t\t\tERROR_MESSAGE = 'There is already an account registered with this email.';\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tpassword = sha256(password);\r\n\t\t\t\tlib.insertUser({name: name, discriminator: name, email: email, password: password});\r\n\r\n\t\t\t\tCookies.set('user', JSON.stringify(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tdiscriminator: name,\r\n\t\t\t\t\t\temail: email\r\n\t\t\t\t\t}\r\n\t\t\t\t));\r\n\r\n\t\t\t\tpush('/');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction login() {\r\n\t\tconst email_query = lib.queryUsersWithEmail(email);\r\n\t\tif (email_query[0]) {\r\n\t\t\tpassword = sha256(password);\r\n\t\t\tconst email_with_password_query = lib.queryUsersWithEmailAndPassword(email, password);\r\n\t\t\tif (email_with_password_query[0]) {\r\n\t\t\t\tCookies.set('user', JSON.stringify(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: email_with_password_query[0].name,\r\n\t\t\t\t\t\tdiscriminator: email_with_password_query[0].discriminator,\r\n\t\t\t\t\t\temail: email_with_password_query[0].email\r\n\t\t\t\t\t}\r\n\t\t\t\t));\r\n\r\n\t\t\t\tpush('/');\r\n\t\t\t} else {\r\n\t\t\t\tERROR_LOCATION = 'password';\r\n\t\t\t\tERROR_MESSAGE = 'This password doesn\\'t match your email.';\t\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tERROR_LOCATION = 'email';\r\n\t\t\tERROR_MESSAGE = 'There are no accounts registered with this e-mail.';\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\r\n\t<span on:click={() => push('/')} id=\"logo\" style=\"margin: 60px auto 10px; font-size: 24px; font-weight: 900; color: var(--tertiary-secondary-color);\">Bambino</span>\r\n\t{#if $location == '/register'}\r\n\t\t<div style=\"margin: 0 auto; padding: 50px 60px; width: 100%; max-width: 400px;\">\r\n\t\t\t<div style=\"display: flex; justify-content: center;\">\r\n\t\t\t\t<span class=\"link\" style=\"font-weight: 700; color: var(--theme-color)\">Register</span>\r\n\t\t\t\t<span class=\"link\" on:click={() => push('/login')} style=\"margin-left: 15px; color: var(--theme-color)\">Login</span>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"display: flex; flex-direction: column; margin-top: 30px;\">\r\n\t\t\t\t<span style=\"font-size: 22px; font-weight: 700;\">Create an Account</span>\r\n\t\t\t\t<span style=\"margin-top: 5px; font-size: 16px;\">With an account, you can build a profile and save settings for better personalization.</span>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"margin-top: 30px;\">\r\n\t\t\t\t<div style=\"display: flex; flex-direction: column;\">\r\n\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: var(--tertiary-secondary-color);\">NAME</span>\r\n\t\t\t\t\t\t{#if ERROR_LOCATION == 'name'}\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: #f53d59;\"><span style=\"margin: 0 5px;\">—</span> {ERROR_MESSAGE}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input bind:value={name} style=\"margin-top: 10px; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" maxlength=\"32\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"display: flex; flex-direction: column; margin-top: 15px;\">\r\n\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: var(--tertiary-secondary-color);\">E-MAIL</span>\r\n\t\t\t\t\t\t{#if ERROR_LOCATION == 'email'}\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: #f53d59;\"><span style=\"margin: 0 5px;\">—</span> {ERROR_MESSAGE}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input bind:value={email} style=\"margin-top: 10px; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"display: flex; flex-direction: column; margin-top: 15px;\">\r\n\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: var(--tertiary-secondary-color);\">PASSWORD</span>\r\n\t\t\t\t\t\t{#if ERROR_LOCATION == 'password'}\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: #f53d59;\"><span style=\"margin: 0 5px;\">—</span> {ERROR_MESSAGE}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input bind:value={password} style=\"margin-top: 10px; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" type=\"password\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button on:click={register} class=\"register-login-button\" style=\"margin-top: 30px; padding: 12px 18px; width: 100%; background-color: var(--theme-color); border: 0; border-radius: 2px; font-weight: 700; color: var(--primary-primary-color);\">Register</button>\r\n\t\t</div>\r\n\t{:else if $location == '/login'}\r\n\t\t<div style=\"margin: 0 auto; padding: 50px 60px; width: 100%; max-width: 400px;\">\r\n\t\t\t<div style=\"display: flex; justify-content: center;\">\r\n\t\t\t\t<span class=\"link\" on:click={() => push('/register')} style=\"color: var(--theme-color)\">Register</span>\r\n\t\t\t\t<span class=\"link\" style=\"margin-left: 15px; font-weight: 700; color: var(--theme-color)\">Login</span>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"display: flex; flex-direction: column;\">\r\n\t\t\t\t<span style=\"font-size: 22px; font-weight: 700;\">Enter</span>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"margin-top: 30px;\">\r\n\t\t\t\t<div style=\"display: flex; flex-direction: column;\">\r\n\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: var(--tertiary-secondary-color);\">E-MAIL</span>\r\n\t\t\t\t\t\t{#if ERROR_LOCATION == 'email'}\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: #f53d59;\"><span style=\"margin: 0 5px;\">—</span> {ERROR_MESSAGE}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input bind:value={email} style=\"margin-top: 10px; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"display: flex; flex-direction: column; margin-top: 15px;\">\r\n\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: var(--tertiary-secondary-color);\">PASSWORD</span>\r\n\t\t\t\t\t\t{#if ERROR_LOCATION == 'password'}\r\n\t\t\t\t\t\t\t<span style=\"font-size: 12px; font-weight: 700; color: #f53d59;\"><span style=\"margin: 0 5px;\">—</span> {ERROR_MESSAGE}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input bind:value={password} style=\"margin-top: 10px; padding: 12px 18px; background-color: var(--primary-secondary-color); border: 1px solid var(--secondary-primary-color); border-radius: 4px; outline: none;\" type=\"password\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button on:click={login} class=\"register-login-button\" style=\"margin-top: 30px; padding: 12px 18px; width: 100%; background-color: var(--theme-color); border: 0; border-radius: 2px; font-weight: 700; color: var(--primary-primary-color);\">Login</button>\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n\r\n<style>\r\n\t#logo:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.link:hover {\r\n\t\tcursor: pointer;\r\n\t\tcolor: var(--theme-color-strong) !important;\r\n\t}\r\n\t.register-login-button:hover {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: var(--theme-color-strong) !important;\r\n\t}\r\n</style>","<script>\n\timport Router from 'svelte-spa-router';\n\n\timport SubApp from './SubApp.svelte';\n\timport Auth from './Auth.svelte';\n\n\tconst routes = {\n\t\t'/login': Auth,\n\t\t'/register': Auth,\n\t\t'/': SubApp\n\t}\n</script>\n\n<Router {routes}/>","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\tname: 'world'\n\t}\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","is_empty","obj","keys","length","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","call","this","attr","attribute","value","removeAttribute","getAttribute","setAttribute","children","Array","from","childNodes","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","custom_event","type","detail","e","createEvent","initCustomEvent","current_component","set_current_component","get_current_component","Error","afterUpdate","after_update","createEventDispatcher","slice","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","update","pop","has","add","clear","fragment","before_update","dirty","p","ctx","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","get_spread_update","levels","updates","to_null_out","accounted_for","$$scope","n","undefined","get_spread_object","spread_props","bind","index","props","bound","create_component","mount_component","customElement","on_mount","m","new_on_destroy","map","filter","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","parent_component","on_disconnect","context","Map","skip_bound","ready","ret","rest","hydrate","nodes","l","intro","SvelteComponent","[object Object]","$destroy","indexOf","splice","$$props","$$set","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","str","loose","RegExp","pattern","tmp","ext","arr","split","shift","substring","getLocation","hashPosition","window","location","href","substr","qsPosition","querystring","loc","$loc","charAt","history","replaceState","scrollX","scrollY","hash","routes","prefix","restoreScrollState","RouteItem","path","_sveltesparouter","regexparam","conditions","userData","_pattern","_keys","startsWith","match","matches","exec","out","decodeURIComponent","routesList","route","componentParams","dispatch","dispatchNextTick","previousScrollState","state","scrollTo","lastLoc","componentObj","newLoc","checkConditions","loading","loadingParams","loaded","default","scrollRestoration","fromNow","elapsed","Date","getTime","SECONDS_IN_AN_HOUR","SECONDS_IN_A_DAY","SECONDS_IN_A_WEEK","SECONDS_IN_A_MONTH","SECONDS_IN_A_YEAR","Math","floor","_global","localStorageDB","db_name","engine","storage","db_id","db_new","db","sessionStorage","localStorage","replace","setItem","tableExists","table_name","tables","tableExistsWarn","error","alterTable","new_fields","default_values","fields","concat","ID","hasOwnProperty","field","auto_increment","sort_results","order","x","y","v1","toLowerCase","v2","queryByValues","result_ids","exists","row","toString","queryByFunction","query_function","clone","getIDs","ids","update_function","num","updated_data","new_data","validFields","commit","JSON","stringify","msg","new_obj","validateName","validateData","parse","isNew","drop","getItem","serialize","tableFields","tableCount","count","table","columnExists","field_name","table_fields","createTable","is_valid","fields_literal","createTableWithData","dropTable","truncate","new_fields_array","rowCount","insertOrUpdate","query","limit","sort","distinct","results","j","seen","new_results","select","queryAll","params","deleteRows","module","exports","lib","queryAllUsers","queryUsersWithEmail","email","queryUsersWithEmailAndPassword","password","insertUser","user","updateUser","user_email","with_password","discriminator","queryAllPosts","posts","posted_timestamp","insertPost","post","post_id","updateImpelPost","impels","impelled","Number","updatePostNotes","note","notes","image_blob","title","description","poster_name","poster_discriminator","factory","extend","arguments","attributes","decode","converter","api","defaults","expires","toUTCString","test","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","cookie","get","json","jar","cookies","parts","join","read","getJSON","remove","withConverter","openUserSettingsModal","openNewPostModal","USER_TOOLTIP_IS_OPEN","USER_SETTINGS_MODAL_IS_OPEN","NEW_POST_MODAL_IS_OPEN","closeUserSettingsModal","closeNewPostModal","newPostImageInput","NEW_POST_IMAGE","changed_user","changePosts","POST_NOTES_DISPLAY_LIMIT","changePostNotesDisplayLimit","user_logged_in","user_settings","USER_SETTINGS_CHANGE_ERROR_MESSAGE","changeNewPostImage","image","files","reader","FileReader","onload","readAsDataURL","NEW_POST_TITLE","NEW_POST_DESCRIPTION","valid_password","email_query","Cookies","valid_title","valid_description","click","utils.fromNow","lib.queryAllUsers","lib.queryAllPosts","closeUserTooltip","impelPost","lib.updateImpelPost","uploadImageAsNoteInput","uploadImageAsNote","lib.updatePostNotes","changed_posts","changed_posts_notes_display_limits","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","prototype","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","message","Sha256","createMethod","method","nodeWrap","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","Uint8Array","createHmacOutputMethod","HmacSha256","createHmacMethod","sharedMemory","h0","h1","h2","h3","h4","h5","h6","h7","bytes","hBytes","finalized","hashed","first","code","charCodeAt","array","oKeyPad","iKeyPad","inner","notString","lastByteIndex","finalize","s0","s1","maj","t1","ab","da","cd","bc","f","g","h","hex","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","ERROR_LOCATION","ERROR_MESSAGE","lib.queryUsersWithEmail","lib.insertUser","email_with_password_query","lib.queryUsersWithEmailAndPassword","/login","Auth","/register","/","SubApp","app","App","body"],"mappings":"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"}